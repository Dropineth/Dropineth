## Frontend Interaction Example
[Click here](https://claude.site/artifacts/04aa777a-a64d-44cc-aa63-f8a3cb22ceb9)





# Edu Chain: "Learn Own Earn" Framework for Tree Planting Education

## Overview

Edu Chain’s "Learn Own Earn" framework empowers individuals in underrepresented regions—specifically women and children in Africa—to learn about sustainable tree planting, gain ownership of their own trees, and earn rewards through their environmental contributions. This solution integrates Open Campus ID, Capybara NFTs, and blockchain technology within the Edu Chain ecosystem, offering an innovative and transparent way for learners to interact with educational content, track their progress, and gain financial and environmental benefits.

---

## Key Features

- **Open Campus ID**: Provides learners with a unique, decentralized digital identity, allowing for secure tracking of their learning achievements and tree ownership.
- **Capybara NFTs**: Represents ownership of a tree or forest plot, offering digital proof of participation in tree planting initiatives.
- **Blockchain Integration**: Ensures secure, transparent ownership records of trees, as well as the ability to earn and trade carbon credits.
- **Sustainable Learning Modules**: An interactive curriculum covering topics such as tree species identification, ecosystem stewardship, and carbon credit trading.
- **Offline Accessibility**: Allows users to learn and track progress without the need for continuous internet connectivity.

---

## Goals

- **Empowerment**: Equip women and children with the knowledge, skills, and tools to actively engage in environmental restoration and biodiversity conservation.
- **Education**: Provide accessible, multilingual, and engaging educational content on sustainable forestry and climate action.
- **Ownership & Earnings**: Allow learners to own trees (tracked via NFTs) and earn rewards through their contributions to carbon sequestration and ecosystem restoration.
- **Community Engagement**: Build a decentralized, community-driven ecosystem that rewards users for their environmental and educational efforts.

---

## Workflow

### 1. **Learning Modules**
   Learners begin their journey with a series of interactive learning modules:
   - **Module 1**: Tree Species Identification
   - **Module 2**: Tree Care Techniques (Pruning, Watering, Disease Prevention)
   - **Module 3**: Biodiversity and Ecosystem Health
   - **Module 4**: Property Rights and Ownership in Forestry
   - **Module 5**: Carbon Credit Economics and Marketplaces
   - **Module 6**: Real-World Tree Planting and Maintenance
   
   **Objective**: Complete the learning modules to gain knowledge about sustainable tree planting and environmental stewardship.

### 2. **Ownership (via Capybara NFTs)**
   After completing learning milestones, users receive **Capybara NFTs** that represent ownership of a tree or plot of land. These NFTs are linked to:
   - A **specific tree species** (e.g., African Baobab, Mangrove, etc.)
   - A **unique tree ID** that tracks its growth and carbon sequestration capacity
   - **Ownership rights**, granting users digital proof of their tree ownership
   
   **Objective**: Own a digital asset (NFT) that corresponds to a real-world tree.

### 3. **Earning through Carbon Credits**
   As trees grow, they contribute to biodiversity and carbon sequestration, which can be translated into **carbon credits**. The credits can be:
   - Tracked on the blockchain
   - Sold or traded on a dedicated marketplace
   - Used to unlock additional learning content or rewards
   
   **Objective**: Earn rewards based on the environmental impact of the owned trees, including carbon credits.

---

## Technical Architecture

### 1. **Edu Chain Blockchain**
   - **Decentralized Platform**: Provides transparency and immutability for tracking ownership and educational achievements.
   - **Smart Contracts**: Automates the creation of NFTs, carbon credit tracking, and transaction management (e.g., when NFTs are bought/sold or when rewards are issued).
   - **Carbon Credit Marketplace**: A peer-to-peer platform that enables users to trade or sell carbon credits based on their tree’s environmental impact.

### 2. **Open Campus ID**
   - **Identity Management**: A decentralized digital identity that verifies users' educational achievements, tree ownership, and involvement in carbon credit transactions.
   - **Progress Tracking**: Tracks a learner’s progression through the course and ownership of trees.

### 3. **Capybara NFT**
   - **NFT Standards**: Built on widely-adopted standards (e.g., ERC-721) to ensure interoperability and security.
   - **Tree Attributes**: Each NFT holds metadata that represents the tree’s species, ownership status, and associated carbon credits.
   - **Integration with Edu Chain**: NFTs are tied to learners' Open Campus ID and displayed in their portfolios.

### 4. **Offline Learning & Mobile Access**
   - **Mobile-first Design**: Optimized for mobile devices to ensure access for users in rural or underserved regions.
   - **Offline Capabilities**: Learners can download educational materials, complete courses offline, and sync their progress once connected to the internet.

---

## How It Works for Learners

1. **Enroll in the Program**:
   - Create an Open Campus ID to get started and track learning progress.
   - Select a learning path based on interest or region.

2. **Complete Learning Modules**:
   - Watch videos, take quizzes, and engage in hands-on activities related to tree planting and ecosystem stewardship.

3. **Receive Capybara NFTs**:
   - Upon completing the modules, learners are awarded NFTs representing real trees.
   - These NFTs can be linked to the Edu Chain platform to verify ownership.

4. **Participate in Real-World Tree Planting**:
   - Engage in local tree planting projects organized by Edu Chain’s NGO and governmental partners.
   - Each physical tree planted is mapped to a learner’s NFT, linking real-world actions to digital assets.

5. **Earn Rewards and Carbon Credits**:
   - As the trees grow, they accumulate carbon credits based on their ecological contributions.
   - Learners can trade or sell carbon credits, unlocking further benefits and rewards.

---

## Challenges & Considerations

### 1. **Digital Literacy & Accessibility**
   - **Solution**: Build a user-friendly interface that requires minimal tech knowledge. Provide in-person or remote workshops to teach users how to interact with the system.
   - **Challenge**: Limited internet connectivity in rural areas.
   - **Solution**: Enable offline learning and periodic syncing for users with intermittent internet access.

### 2. **Ownership Verification & Legal Framework**
   - **Solution**: Collaborate with local governments to establish legal frameworks for tree ownership linked to NFTs and carbon credits.

### 3. **Economic Viability**
   - **Solution**: Develop partnerships with environmental organizations and corporations that are interested in purchasing carbon credits or sponsoring educational content.

### 4. **Long-term Engagement**
   - **Solution**: Implement gamification elements to maintain user engagement, such as levels, leaderboards, and rewards based on long-term tree health and carbon sequestration.

---

## Conclusion

The **Edu Chain "Learn Own Earn" Framework** presents an innovative solution to sustainable tree planting education, providing women and children in Africa with the knowledge, ownership, and financial incentives needed to drive real-world environmental change. By integrating blockchain technology, NFTs, and carbon credit markets, this program not only teaches valuable skills but also empowers individuals to take ownership of the planet’s future.

Together, we can make a significant impact on global climate action while creating a sustainable, decentralized ecosystem that rewards education and environmental stewardship.

---

## Get Involved

- **For Learners**: Sign up to start your tree planting journey today!
- **For Partners & Sponsors**: Join us in supporting sustainable education and carbon offsetting initiatives.
- **For Developers**: Contribute to the Edu Chain platform and help build the future of climate literacy.

--- 

**Edu Chain** is committed to sustainability, community empowerment, and climate action for a greener future.



### Edu Chain "Learn Own Earn" Framework for Tree Planting Education with Carbon Credit Integration

#### **Overview**

In this enhanced framework, **learning participants** on the Edu Chain platform will assume the role of **forest rangers**, focusing on the **non-carbon credit earnings** related to tree ownership, such as tree seed sales, fruit sales, and biodiversity maintenance. In contrast, the **carbon credits** associated with the trees will be allocated to the **players** who win tree NFTs through DropIn's **Lotto** mechanism. The **true ownership** of trees (including the carbon credit rights) remains with the Lotto-winning players, but **learners** gain ownership of the **non-carbon credit earnings** from the trees they nurture.

This integrated system provides a comprehensive, decentralized approach to tree planting education while ensuring that both **carbon credit income** and **non-carbon credit income** are properly managed and tracked on-chain.

---

### **Key Concepts and Workflow**

1. **Learners as Forest Rangers (Non-carbon Credit Earnings)**
   - Learners will participate in educational content to acquire knowledge on:
     - **Tree species identification**
     - **Tree care techniques** (pruning, watering, disease management)
     - **Biodiversity and ecosystem health**
     - **Non-carbon credit earnings** from tree-related activities (e.g., seed sales, fruit sales)
   
   - Upon completing the course, learners will be awarded **Edu Chain NFTs**, representing their status as **forest rangers** with a specific tree to care for. These NFTs are linked to **non-carbon income** such as:
     - **Tree seeds**: Learners can sell or trade seeds harvested from trees they maintain.
     - **Fruits or other products**: Learners can sell fruits, nuts, or other tree-related products.
     - **Biodiversity services**: Revenue generated from maintaining biodiversity (e.g., pollinator attraction, ecosystem restoration).

2. **Lotto Players (Carbon Credit Ownership)**
   - Players who participate in the **DropIn Lotto** will receive tree NFTs linked to specific trees (defined by:
     - **Geolocation** (latitude, longitude)
     - **Tree species**
     - **Unique tree identifier** (e.g., tree ID or plot number)
   
   - These tree NFTs will represent the **carbon credit ownership** of the trees. Carbon credits are generated by the trees over time, and these NFTs will allow the **Lotto winners** to:
     - **Accumulate carbon credits** based on their tree’s carbon sequestration.
     - **Trade or sell carbon credits** on a marketplace for revenue.
     - **Track the growth and impact** of their trees, including geo-tagging and environmental data.

3. **Edu Chain NFT Integration**
   - **Edu Chain NFTs** will be directly linked to both:
     - **Non-carbon credit earnings** (such as seed and fruit sales).
     - **Carbon credit ownership**: Each NFT will be associated with a specific tree and linked to **Lotto-winner’s** carbon credit ownership.
   - **Unique ID Mapping**: Each Edu Chain NFT (learner's forest ranger identity) and tree NFT (Lotto winner’s carbon ownership) will be linked on-chain to the tree’s **geolocation**, **species**, and **unique identifier**. This ensures that the data is tamper-proof and transparent.

4. **NFT and Blockchain Technology**
   - **NFTs (Non-Fungible Tokens)**: Built on ERC-721 or ERC-1155 standards to ensure uniqueness, security, and interoperability across different platforms.
     - **Learner NFTs**: Represent ownership of **non-carbon credits** and forest ranger responsibilities (seeds, fruits, biodiversity maintenance).
     - **Lotto NFTs**: Represent **carbon credits** and ownership of trees' environmental impact (carbon sequestration).
   - **Smart Contracts**: Used to automate carbon credit generation, carbon credit sales, and reward distribution. These contracts also enforce the mapping between the **tree NFTs** and **Edu Chain NFTs** to ensure that the **carbon credits** generated from the trees are allocated to the appropriate Lotto winner’s address.

---

### **Detailed Design: Integration of Edu Chain & DropIn**

1. **NFT Ownership and Carbon Credit Allocation**

   - Each **tree NFT** issued through DropIn’s Lotto mechanism will be linked to a **tree's location, species, and unique ID**.
   - The **learner’s forest ranger NFT** will be associated with:
     - **The same tree's location** (as indicated by the Lotto tree NFT’s geolocation).
     - The **non-carbon revenue generated by the tree** (e.g., seed and fruit sales, biodiversity incentives).
   
   - **Carbon credit ownership** will reside with the **Lotto winner’s wallet**.
     - Carbon credits will be generated on-chain and stored in the wallet tied to the Lotto winner’s **tree NFT**.
     - **Learners** will not have access to the carbon credits but will benefit from **non-carbon income** via sales and services related to tree care.

2. **Tracking Tree Growth and Carbon Sequestration**

   - Each tree’s **carbon sequestration potential** will be recorded as metadata in the **Lotto NFT** (e.g., CO2 sequestered annually).
   - **Geolocation** and **tree species** will also be recorded as part of the metadata to enable efficient monitoring and tracking of environmental impact.

   - **Learner’s NFT** will reflect the following data:
     - Tree identification (linked to tree NFT).
     - Non-carbon earnings such as **seed sales**, **fruit sales**, and **maintenance rewards**.
     - **Biodiversity maintenance earnings**.

3. **Edu Chain Interaction with Carbon Credit Marketplace**

   - **Carbon Credits**: Carbon credits are issued to the **Lotto winner’s wallet** based on tree growth.
   - **Marketplace**: These credits can be traded or sold in an on-chain carbon credit marketplace.
     - **Transaction transparency**: All trades and sales are recorded on the blockchain.
   
   - **Edu Chain Learners** will interact with the platform to manage their **non-carbon earnings**. They will have access to:
     - Seed and fruit sales.
     - Selling biodiversity services or tree maintenance expertise.
   
   - **Rewards**: The **Lotto winner** can also reward the **learners** through microtransactions for exceptional tree care or ecosystem management.

4. **Geospatial Mapping and On-Chain Metadata**

   - The **location of each tree** will be tracked via **geospatial data** (latitude and longitude) on the blockchain.
   - The tree’s **species**, **ID**, and **carbon sequestration rate** will be stored as immutable metadata, ensuring that each **tree NFT** is linked to a **specific geographic location** and **climate-related data**.
   - **Learners** can access this data to track the environmental impact of the trees they care for, but the ownership of the **carbon credits** remains with the **Lotto players**.

---

### **Challenges and Considerations**

1. **Data Accuracy & Monitoring**:
   - Ensuring the accuracy of **geospatial data** and **carbon sequestration rates** will require collaboration with environmental scientists and blockchain developers to implement robust monitoring mechanisms.
   - Challenge: **Remote geolocation verification** of trees, especially in rural or undeveloped areas. 

   - **Solution**: Collaborate with local environmental organizations to monitor the progress of trees, using drones, IoT sensors, or other tracking technologies for real-time data collection.

2. **Legal Ownership**:
   - The **carbon credit rights** will belong to the **Lotto winner**, but **non-carbon rights** (seed and fruit sales) will belong to the **learners**.
   - **Legal Framework**: A legal framework needs to be established for tree ownership and carbon credits in different regions, especially in **Africa**, where these initiatives are being implemented.
   
3. **User Adoption**:
   - To ensure broad participation, **offline access** for educational content will need to be optimized, especially in areas with limited internet access.
   - **Solution**: Allow for offline learning modules and syncing of data when an internet connection becomes available.

---

### **Conclusion**

This **Edu Chain + DropIn** integrated solution creates a sustainable ecosystem where learners, Lotto players, and local communities work together to address environmental challenges, generate income, and create a decentralized, transparent platform for **tree ownership**, **carbon credit management**, and **biodiversity preservation**.

By integrating blockchain, NFTs, and carbon credits, we can empower **learners** to care for the environment, while **Lotto winners** can benefit from carbon sequestration and trade carbon credits to support global climate action. This model ensures that everyone—whether a **learner**, **tree owner**, or **community member**—has the opportunity to contribute to a sustainable, profitable, and eco-friendly future.

### Top-Level Smart Contract Design for Edu Chain: Tree Planting Education & Carbon Credit Management

The following smart contract will be developed on a platform that supports Ethereum-compatible smart contracts, such as **Ethereum**, **Polygon**, or **Binance Smart Chain (BSC)**. We'll use **Solidity** as the language to develop these contracts.

The main components of the smart contract are:

1. **Tree NFT** for Lotto winners (carbon credit ownership).
2. **Forest Ranger NFT** for learners (non-carbon credit earnings).
3. **Carbon Credit Management** linked to Lotto-winning Tree NFTs.
4. **Non-carbon Credit Earnings** tied to Forest Ranger NFTs (seed sales, fruit sales, biodiversity services).
5. **Geospatial Data Integration** to track tree geolocation (latitude, longitude).
6. **Educational Content Access** for learners.
7. **Marketplace** for the sale of non-carbon credits (seeds, fruits, etc.).
8. **Reward System** for learners based on their tree care activities.

---

### **1. Tree NFT Contract (for Lotto Winners)**

This contract represents the tree that generates carbon credits, tracked by geolocation and species.

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract TreeNFT is ERC721URIStorage, Ownable {
    uint256 private nextTokenId;
    mapping(uint256 => uint256) public carbonCredits; // Tree Token ID -> Carbon Credit
    mapping(uint256 => string) public treeSpecies; // Tree Token ID -> Tree Species
    mapping(uint256 => string) public treeLocation; // Tree Token ID -> Geolocation (latitude, longitude)

    constructor() ERC721("TreeNFT", "TNFT") {}

    // Mint a new Tree NFT (Lotto winner receives it)
    function mintTreeNFT(address to, string memory uri, string memory species, string memory location) external onlyOwner {
        uint256 tokenId = nextTokenId++;
        _safeMint(to, tokenId);
        _setTokenURI(tokenId, uri);
        treeSpecies[tokenId] = species;
        treeLocation[tokenId] = location;
    }

    // Record Carbon Credit for the Tree
    function addCarbonCredits(uint256 tokenId, uint256 credits) external onlyOwner {
        carbonCredits[tokenId] += credits;
    }

    // Get Carbon Credit of a specific Tree
    function getCarbonCredits(uint256 tokenId) external view returns (uint256) {
        return carbonCredits[tokenId];
    }

    // Get the location of the tree
    function getTreeLocation(uint256 tokenId) external view returns (string memory) {
        return treeLocation[tokenId];
    }

    // Get the species of the tree
    function getTreeSpecies(uint256 tokenId) external view returns (string memory) {
        return treeSpecies[tokenId];
    }
}
```

---

### **2. Forest Ranger NFT Contract (for Learners)**

This contract represents the learner's NFT, linking them to non-carbon-related earnings (seed sales, fruit sales, biodiversity services).

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract ForestRangerNFT is ERC721URIStorage, Ownable {
    uint256 private nextTokenId;
    mapping(uint256 => uint256) public nonCarbonCredits; // Forest Ranger NFT ID -> Non-carbon Credit Earnings (e.g., seed sales)
    mapping(uint256 => uint256) public treeOwnership; // Forest Ranger NFT ID -> Associated Tree NFT ID

    constructor() ERC721("ForestRangerNFT", "FRNFT") {}

    // Mint a new Forest Ranger NFT (Learner receives it after completing the course)
    function mintForestRangerNFT(address to, string memory uri, uint256 treeNFTId) external onlyOwner {
        uint256 tokenId = nextTokenId++;
        _safeMint(to, tokenId);
        _setTokenURI(tokenId, uri);
        treeOwnership[tokenId] = treeNFTId;
    }

    // Award non-carbon credit earnings to a learner (e.g., seed sales, fruit sales)
    function awardNonCarbonCredits(uint256 tokenId, uint256 credits) external onlyOwner {
        nonCarbonCredits[tokenId] += credits;
    }

    // Get Non-carbon Credits of a specific Forest Ranger NFT
    function getNonCarbonCredits(uint256 tokenId) external view returns (uint256) {
        return nonCarbonCredits[tokenId];
    }

    // Get the tree ownership associated with a specific Forest Ranger NFT
    function getTreeOwnership(uint256 tokenId) external view returns (uint256) {
        return treeOwnership[tokenId];
    }
}
```

---

### **3. Carbon Credit Marketplace Contract**

This contract allows the Lotto winners (Tree NFT holders) to sell their carbon credits, and for learners to track their non-carbon credits.

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/token/ERC20/IERC20.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract CarbonCreditMarketplace is Ownable {
    IERC20 public carbonCreditToken; // Token for Carbon Credit
    mapping(address => uint256) public carbonCreditBalances;

    // Event emitted when a carbon credit is bought/sold
    event CarbonCreditTrade(address indexed buyer, uint256 amount);

    constructor(address _carbonCreditToken) {
        carbonCreditToken = IERC20(_carbonCreditToken);
    }

    // Buy carbon credits for a specific amount
    function buyCarbonCredits(address seller, uint256 amount) external {
        require(carbonCreditBalances[seller] >= amount, "Insufficient carbon credits");

        carbonCreditToken.transferFrom(msg.sender, seller, amount); // Buyer pays seller
        carbonCreditBalances[seller] -= amount;
        carbonCreditBalances[msg.sender] += amount;

        emit CarbonCreditTrade(msg.sender, amount);
    }

    // Sell carbon credits (increases seller's balance)
    function sellCarbonCredits(uint256 amount) external {
        require(carbonCreditBalances[msg.sender] >= amount, "Insufficient carbon credits");
        carbonCreditBalances[msg.sender] -= amount;
        carbonCreditBalances[address(this)] += amount;
    }

    // Get the balance of carbon credits for a specific user
    function getCarbonCreditBalance(address user) external view returns (uint256) {
        return carbonCreditBalances[user];
    }
}
```

---

### **4. Reward System for Learners**

This contract tracks learners' activities and rewards them for their tree care efforts, such as maintaining biodiversity.

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/access/Ownable.sol";
import "@openzeppelin/contracts/token/ERC20/IERC20.sol";

contract LearnerRewardSystem is Ownable {
    IERC20 public rewardToken; // Token for non-carbon credits (e.g., reward points for learners)
    mapping(address => uint256) public learnerRewards;

    event RewardAwarded(address indexed learner, uint256 rewardAmount);

    constructor(address _rewardToken) {
        rewardToken = IERC20(_rewardToken);
    }

    // Reward a learner for tree care efforts or biodiversity maintenance
    function awardReward(address learner, uint256 rewardAmount) external onlyOwner {
        learnerRewards[learner] += rewardAmount;
        rewardToken.transfer(learner, rewardAmount); // Transfer the reward to the learner

        emit RewardAwarded(learner, rewardAmount);
    }

    // Check reward balance of a learner
    function getLearnerRewardBalance(address learner) external view returns (uint256) {
        return learnerRewards[learner];
    }
}
```

---

### **5. Geospatial Data Integration (Geolocation)**

This feature allows storing the tree's geographical data (latitude and longitude) to ensure accurate tracking.

In this design, the geospatial data (latitude and longitude) of each tree will be stored within the Tree NFT contract as metadata (as `treeLocation`).

---

### **Deployment and Integration**

1. **Mint Tree NFTs**: 
   - The **DropIn Lotto** will mint Tree NFTs and distribute them to the Lotto winners, who will then own the associated **carbon credits**.
   - Each Tree NFT is linked to a **location** and **species**, along with its **carbon credit generation**.

2. **Mint Forest Ranger NFTs**:
   - After completing the educational module, **learners** will receive a Forest Ranger NFT.
   - This NFT is associated with a specific tree, and learners will gain ownership of **non-carbon credits** from activities like **seed sales**, **fruit sales**, and **biodiversity services**.

3. **Non-carbon Credit Earnings**:
   - The contract will enable learners to accumulate rewards based on their **tree care** activities.
   - Rewards will be distributed via **ERC-20 tokens** (could be used for both reward points and other ecosystem participation incentives).

4. **Carbon Credit Marketplace**:
   - A **decentralized marketplace** where Lotto winners can sell their carbon credits, tracking the transaction with the `CarbonCreditMarketplace` contract.

5. **Tracking and Reporting**:
   - Geospatial data ensures accurate and transparent tracking of tree location and environmental impact.

---

### Conclusion

This setup uses **ERC-721** NFTs for both **carbon credit ownership** (Lotto winners) and **non-carbon credit earnings** (learners) and incorporates a **reward system** for learners. **Geospatial data** ensures transparency in tree care and carbon credit management, while **smart contracts** facilitate a seamless interaction between learners, Lotto winners, and carbon credit marketplaces.


To build the **Edu Chain Integration** based on **Open Campus ID**, **Capybara NFTs**, and the **Tree Planting Education** curriculum, we'll define the contract structure that mirrors the workflows and modules described earlier.

Here is a breakdown of each contract/module with its corresponding workflow and functionality. The **Edu Chain** integration connects these elements to ensure a cohesive experience for learners, NFT owners, and stakeholders involved in tree planting and biodiversity management.

### **1. Open Campus ID (Soulbound Token)**

This contract will manage the issuance of learner IDs as **soulbound tokens (SBTs)**, which are non-transferable, ensuring that credentials are tied to the learner's identity and cannot be sold or transferred.

#### **Contract: `OpenCampusID.sol`**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract OpenCampusID is ERC721URIStorage, Ownable {

    uint256 public currentId;
    mapping(uint256 => string) public learnerData;

    constructor() ERC721("OpenCampusID", "OCID") {}

    // Issue a new learner ID (SBT) to the learner
    function mintOpenCampusID(address learner, string memory metadataURI) external onlyOwner {
        uint256 newId = currentId;
        _mint(learner, newId);
        _setTokenURI(newId, metadataURI);  // Learner profile URI
        currentId++;
    }

    // Record learner data (e.g., completed modules)
    function setLearnerData(uint256 tokenId, string memory data) external {
        require(ownerOf(tokenId) == msg.sender, "You are not the owner of this ID");
        learnerData[tokenId] = data;
    }

    // View learner data
    function getLearnerData(uint256 tokenId) external view returns (string memory) {
        return learnerData[tokenId];
    }
}
```

### **2. Capybara NFT (Tree Ownership)**

This contract is responsible for minting and managing the **Capybara NFTs**, which represent tree/land ownership or engagement in specific ecological projects. The NFTs also track the connection between learners and trees.

#### **Contract: `CapybaraNFT.sol`**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract CapybaraNFT is ERC721URIStorage, Ownable {

    uint256 public currentCapybaraId;
    mapping(uint256 => address) public treeOwnership;
    mapping(uint256 => string) public ecologicalProjects;

    constructor() ERC721("CapybaraNFT", "CAPY") {}

    // Mint a new Capybara NFT representing ownership of a tree or ecological project
    function mintCapybaraNFT(address owner, string memory metadataURI, string memory projectDetails) external onlyOwner {
        uint256 newId = currentCapybaraId;
        _mint(owner, newId);
        _setTokenURI(newId, metadataURI);  // Tree/project metadata URI
        ecologicalProjects[newId] = projectDetails;  // Link project details to NFT
        currentCapybaraId++;
    }

    // Link tree/land ownership to a learner
    function linkTreeToLearner(uint256 capybaraId, address learner) external onlyOwner {
        require(ownerOf(capybaraId) == learner, "Learner must own the Capybara NFT");
        treeOwnership[capybaraId] = learner;
    }

    // View ecological project tied to NFT
    function getEcologicalProject(uint256 capybaraId) external view returns (string memory) {
        return ecologicalProjects[capybaraId];
    }
}
```

### **3. Tree Planting Education & Progress**

This contract manages the educational curriculum, module progress, and certification of learners. It also integrates the learners' progress with the **Open Campus ID** and connects them to **Capybara NFTs** once specific milestones are reached.

#### **Contract: `TreePlantingEducation.sol`**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "./OpenCampusID.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract TreePlantingEducation is Ownable {
    OpenCampusID public openCampusID;

    uint256 public totalModules;
    mapping(address => uint256) public learnerProgress; // Learner's progress
    mapping(address => bool) public learnerCertificates; // Whether certificate is earned

    constructor(address _openCampusID) {
        openCampusID = OpenCampusID(_openCampusID);
        totalModules = 5;  // Number of modules in the tree planting course
    }

    // Update learner's progress after completing a module
    function updateLearnerProgress(address learner, uint256 progress) external onlyOwner {
        require(progress <= totalModules, "Progress exceeds total modules");
        learnerProgress[learner] = progress;
    }

    // Issue certificate after completing all modules
    function issueCertificate(address learner) external onlyOwner {
        require(learnerProgress[learner] == totalModules, "Learner has not completed all modules");
        learnerCertificates[learner] = true;

        // Issue a certificate (e.g., as part of the OpenCampusID record)
        uint256 learnerId = uint256(keccak256(abi.encodePacked(learner, block.timestamp)));
        string memory certificateMetadata = "Certificate for tree planting course completion";
        openCampusID.setLearnerData(learnerId, certificateMetadata); // Record certificate on Open Campus ID
    }

    // Check if a learner has earned a certificate
    function hasCertificate(address learner) external view returns (bool) {
        return learnerCertificates[learner];
    }
}
```

### **4. Carbon Credit & Reward Distribution**

This contract is used for managing and distributing carbon credits and other rewards to learners. The learners can earn carbon credits based on the ecological projects they participate in (linked to **Capybara NFTs**). It will integrate carbon credit metrics, tree maintenance, and non-carbon-based earnings (e.g., seeds, fruits).

#### **Contract: `CarbonCredit.sol`**

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@openzeppelin/contracts/access/Ownable.sol";

contract CarbonCredit is Ownable {

    mapping(address => uint256) public carbonCredits; // Learner's carbon credits
    mapping(address => uint256) public nonCarbonRewards; // Non-carbon-based rewards

    event CarbonCreditIssued(address indexed learner, uint256 amount);
    event NonCarbonRewardIssued(address indexed learner, uint256 amount);

    // Issue carbon credits to a learner
    function issueCarbonCredits(address learner, uint256 amount) external onlyOwner {
        carbonCredits[learner] += amount;
        emit CarbonCreditIssued(learner, amount);
    }

    // Issue non-carbon rewards (seeds, fruits, etc.)
    function issueNonCarbonReward(address learner, uint256 amount) external onlyOwner {
        nonCarbonRewards[learner] += amount;
        emit NonCarbonRewardIssued(learner, amount);
    }

    // View learner's carbon credits
    function getCarbonCredits(address learner) external view returns (uint256) {
        return carbonCredits[learner];
    }

    // View learner's non-carbon rewards
    function getNonCarbonRewards(address learner) external view returns (uint256) {
        return nonCarbonRewards[learner];
    }
}
```

### **5. Integration of Modules with Workflow**

Here's how the **Edu Chain Integration** workflow and modules interact:

- **Learners** are issued an **Open Campus ID** (SBT) that stores their identity and progress in the platform.
- Upon completing specific milestones in the **Tree Planting Education** course, learners earn **Capybara NFTs** representing their ownership in trees or ecological projects.
- **Carbon Credit** rewards are distributed based on tree maintenance or ecological activities, rewarding learners for their participation in carbon sequestration efforts.
- Non-carbon rewards (such as seeds, fruits, etc.) are also issued for additional activities tied to tree care, which can be tracked using the **Carbon Credit** contract.

### **Workflow Diagram Overview**

1. **Learner Progress**: Learners complete modules on **Tree Planting Education** and receive an **Open Campus ID** as a record of their achievements.
2. **Capybara NFT**: Learners earn **Capybara NFTs** upon achieving tree ownership or participating in ecological projects.
3. **Carbon Credit Distribution**: After contributing to tree maintenance or ecological initiatives, learners are rewarded with **carbon credits**.
4. **Reward Mechanism**: Carbon and non-carbon-based rewards are tracked, distributed, and used for further engagement with the platform.

### **Next Steps**:
- **Deployment**: Deploy the smart contracts on the Edu Chain network.
- **User Interfaces**: Develop the UI for learners to track progress, manage NFTs, view certificates, and access rewards.
- **Expand Curriculum**: Add more learning modules, quizzes, and interactive content focused on environmental stewardship and sustainability.

This set of contracts and workflows creates a fully decentralized, transparent, and rewarding system for education, ecological participation, and tree planting, with blockchain-backed records ensuring trust, engagement, and sustainability.




为实现 **2050年零碳目标**，种植2万亿颗树的计划，使用 **Sui 区块链** 结合 **WALRUS存储**，可以通过精确的 **链上存储** 与 **WALRUS存储** 配合，来满足存储、查询、和计算需求。以下是一个详细的开发框架，包括 **前后端架构**、**合约开发** 和 **系统设计**。

---

### **1. 项目需求分析**

- **链上存储（Sui）**：
  - **唯一ID存储**：包括每棵树的 **编号**、**经纬度**（位置标识），以及 **树种** 等信息。
  - **不可篡改的交易记录**：记录每棵树的种植、护理、归属和交易历史。
  - **所有权**：树木的所有权（通过 **NFT** 或 **Token** 表示）。

- **WALRUS存储**：
  - **物理孪生**：树木的生长状态、图片、视频等数据。
  - **地形地貌**：树木所在区域的地形、土壤、地理信息。
  - **气象数据**：历史气象数据（温度、湿度、降水等）。
  - **碳汇结算**：碳汇相关数据，包括树木吸收的二氧化碳量，结合气象和地形数据进行计算。

---

### **2. 系统架构设计**

**前端**：  
前端使用 **React.js** 或 **Vue.js** 开发用户界面，交互设计应该包括以下模块：
- **树木数据展示**：展示每棵树的基本信息（ID、位置、种植时间等）。
- **碳汇数据**：展示每棵树的碳吸收量、修复状态等。
- **地图界面**：交互式地图展示每棵树的位置，结合 **经纬度** 数据。
- **树木认证和交易**：用户可以购买、转让树木的所有权，或查看树木的维修历史。

**后端**：  
后端可以使用 **Node.js** 或 **Python (Flask/Django)**，与区块链进行交互，进行数据处理与存储：
- **Sui 区块链节点**：与 Sui 区块链交互，处理树木所有权、交易等信息。
- **WALRUS存储接口**：与WALRUS存储系统进行数据传输，确保地形、气象数据等存储和检索。
- **数据处理与计算**：碳汇计算、气象数据分析、树木生长预测等。

---

### **3. 基于 Sui 的智能合约设计**

**合约设计**：使用 Sui 区块链的 **Move** 编程语言来实现合约，确保数据的安全、透明和高效性。

#### **合约功能设计**

1. **树木注册与信息存储**
   - 每棵树有一个唯一的 **ID**，以及其 **经纬度** 和 **树种** 信息。
   - 通过智能合约确保每棵树的唯一标识，并将经纬度、树种等信息存储在链上。

2. **树木所有权转移**
   - 用户可以购买、转移或继承树木的所有权，所有权通过 **NFT** 或 **Token** 表示。

3. **碳汇结算**：
   - 每棵树的 **碳汇数据** 根据生长、气候、土壤等条件计算并存储，用户可以查看每棵树的碳汇数据。
   
4. **修复记录与数据更新**
   - 在修复或维护过程中，服务中心可以上传相关的树木修复数据，并更新树木的 **状态**。

#### **Move 合约示例**

```move
module gororo_warranty {
  use 0x2::coin;
  use 0x2::address;
  use 0x2::vector;
  
  struct Tree {
    id: u64,
    lat: f64,
    lon: f64,
    species: vector<u8>,
    owner: address,
    carbon_sequestration: f64,
  }

  struct ServiceRecord {
    service_date: u64,
    issue_reported: vector<u8>,
    repair_details: vector<u8>,
    service_center: address,
  }

  public fun register_tree(
    id: u64,
    lat: f64,
    lon: f64,
    species: vector<u8>,
    owner: address
  ): Tree {
    let new_tree = Tree {
      id,
      lat,
      lon,
      species,
      owner,
      carbon_sequestration: 0.0,
    };
    move_to(&owner, new_tree);
    new_tree
  }

  public fun transfer_ownership(
    tree: &mut Tree,
    new_owner: address
  ) {
    tree.owner = new_owner;
  }

  public fun add_carbon_sequestration(
    tree: &mut Tree,
    carbon_amount: f64
  ) {
    tree.carbon_sequestration = tree.carbon_sequestration + carbon_amount;
  }

  public fun add_service_record(
    tree: &mut Tree,
    service_date: u64,
    issue_reported: vector<u8>,
    repair_details: vector<u8>,
    service_center: address
  ) {
    let record = ServiceRecord {
      service_date,
      issue_reported,
      repair_details,
      service_center,
    };
    // Example: Storing repair data off-chain but referencing it here.
    // Store service record in IDC storage (external to blockchain)
  }
}
```

---

### **4. 数据存储与合约交互设计**

#### **链上存储（Sui）**
- **树木信息**：存储树木的唯一ID、经纬度、树种等信息。
- **所有权信息**：通过 NFT 或 Token 形式管理每棵树的所有权。
- **碳汇数据**：每棵树的碳吸收量、服务记录等重要数据。

### **Walrus 存储的优势**：

- **去中心化**：Walrus 采用去中心化存储，可以消除单点故障的问题，不会像传统的 IDC 存储一样依赖某一特定服务器或数据中心。
- **高效扩展**：Walrus 提供了高度可扩展的存储解决方案，适用于大规模存储需求，如存储 2 万亿颗树的数据。
- **链下与链上数据结合**：它能够将链下的大数据（如树木的生长状态、碳汇计算等）与区块链的去中心化属性结合起来，做到链上存储唯一标识符（如树木的 ID 和地理位置）与链下存储（如详细的生长数据和碳汇信息）的无缝连接。
- **可靠性与分布式存储**：Walrus 使用了分布式存储和冗余技术，数据更加安全，且易于恢复。
- **去中心化存储费用透明**：相较于传统 IDC 存储，Walrus 采用去中心化网络支付方式，通常会提供更具成本效益的存储方案，尤其对于长期存储的数据。

#### **WALRUS 与 Sui 结合的示意**：
- 当用户查询树木数据时，前端会向 Sui 区块链查询树木 ID 和基本信息。
- 前端会获取链下的 **地形、气象、碳汇结算数据** 并呈现，提供精确的树木生长和碳汇情况。
- **哈希值**：将气象、碳汇等数据的哈希值存储到链上，确保数据一致性和安全性。


### **集成 Walrus 存储**

把树木的生长状态、碳汇数据等存储在 Walrus 中，而 ID 和树木相关的唯一标识符（如经纬度、树木编号等）仍然存储在 Sui 区块链上。

#### **4.1 数据存储设计**

- **树木唯一 ID 和元数据（链上存储）**：
    - 存储树木的 **唯一标识符（ID）**、**地理位置（经纬度）**、**当前所有者** 等链上数据。
  
- **详细的树木数据（链下 Walrus 存储）**：
    - 包括 **树木生长状态**、**碳汇数据**、**气象数据**、**物理数字孪生** 等大规模数据，存储到 Walrus 分布式存储系统中。

#### **4.2 Sui 合约与 Walrus 存储结合**

- 在 Sui 合约中存储每棵树的 **唯一标识符**，以及相关 **NFT 资产**。
- 使用 **链下** 存储与 **Walrus** 交互，上传树木的详细数据。通过 API 接口将数据传输到 Walrus 中，同时可以获取数据的 **URI**，这个 URI 将被存储在 Sui 上，以便进行查询和管理。

**Sui 合约示例**（改进）：
```move
module TreeNFT {
    use 0x2::NFT;
    use 0x2::Time;
    use 0x2::URI;

    struct TreeNFT has store {
        id: u64,
        owner: address,
        expiration: u64,
        isMinted: bool,
        uri: address,  // 存储 Walrus 存储的 URI
    }

    public fun mint_nft(account: &signer, tree_id: u64, uri: address): address {
        let expiration_time = Time::now() + 86400;  // 24 hours from now
        let nft = TreeNFT {
            id: tree_id,
            owner: signer::address_of(account),
            expiration: expiration_time,
            isMinted: false,
            uri: uri,  // 存储Walrus URI
        };
        let nft_address = NFT::create(account, nft);
        nft_address
    }

    public fun get_tree_data_uri(tree_id: u64): address {
        let tree_nft = NFT::get_tree_nft(tree_id);
        return tree_nft.uri;  // 返回 Walrus 存储的 URI
    }
}
```

#### **4.3 前端集成 Walrus 存储**

在前端应用中，用户可以通过访问存储在 Walrus 上的数据 URI 来获取树木的详细信息，如碳汇数据、气象信息等。

**示例代码**（访问 Walrus 存储的树木数据）：
```javascript
import React, { useState, useEffect } from 'react';
import { getTreeDataURI } from './SuiWallet';  // 从 Sui 合约获取 URI

function TreeDataDisplay({ treeId }) {
  const [treeData, setTreeData] = useState(null);

  useEffect(() => {
    async function fetchTreeData() {
      const uri = await getTreeDataURI(treeId);  // 获取 Walrus 存储 URI
      const response = await fetch(uri);  // 从 Walrus 存储中获取数据
      const data = await response.json();
      setTreeData(data);
    }
    fetchTreeData();
  }, [treeId]);

  return (
    <div>
      <h3>Tree {treeId} Data</h3>
      {treeData ? (
        <div>
          <p>Growth Status: {treeData.growthStatus}</p>
          <p>Carbon Sequestration: {treeData.carbonSequestration}</p>
          <p>Weather Data: {treeData.weather}</p>
          {/* 添加更多树木的详细信息 */}
        </div>
      ) : (
        <div>Loading data...</div>
      )}
    </div>
  );
}

export default TreeDataDisplay;
```

#### **4.4 完整方案优点**

- **链上存储**：仅存储树木的核心元数据（如树木编号、地理位置、所有者等）。
- **链下存储**：Walrus 存储大量的树木数据（如碳汇数据、气象数据、树木生长状态等），并通过 URI 引用。
- **去中心化与可靠性**：通过 Walrus 去中心化存储，消除 IDC 存储的单点故障问题，提高数据的安全性和可靠性。
- **扩展性**：Walrus 的存储机制非常适合大规模数据的存储，适应未来 2 万亿颗树的存储需求。
- **成本效益**：去中心化存储通常在长期使用中能节省大量成本，尤其是在数据量巨大的情况下。

---

### **5. 安全与性能优化**
- **多签名钱包**：对于树木交易和所有权转移，使用多签名钱包（例如，通过 DAO 或多方共识方式验证）。
- **Gas 优化**：合约中存储的数据要尽可能精简，避免链上存储过多冗余信息。
- **数据缓存**：对于频繁访问的数据（如气象数据），可以考虑使用缓存技术以减少对区块链的频繁调用。

---

### **6. 最终目标与可执行性**
- 在 **2050年零碳目标** 的背景下，确保数据在链上安全、透明，同时通过 **WALRUS存储** 保障大规模数据的可管理性和高效存取。
- 使用 **Sui 区块链** 的高性能特点，可以实现大规模树木管理和碳汇结算，带动全球范围内的绿色行动。

---


### **总体架构**

1. **前端展示**：
    - 使用 **React.js** 或 **Vue.js** 开发用户界面。
    - 集成 **Web3** 和 **Sui SDK** 实现与区块链的交互。
    - 使用 **Chart.js** 或 **D3.js** 进行碳汇数据的可视化。
    - 使用 **Leaflet.js** 或 **Mapbox** 显示树木位置。
    - 实时更新树木的生长状态和 NFT 数据（通过 WebSocket 或轮询机制）。
    - 树木的 **NFT** 将在链上进行管理，每个树木的 NFT 代表了该树的实际位置、碳汇数据和生长状态。
  
2. **后端**：
    - 用于处理链下数据（如树木的气象数据、碳汇数据、树木的生长状态等）。
    - 提供 API 与前端交互，更新树木的生长状态、碳汇数据等。
  
3. **Sui 智能合约**：
    - 实现树木 NFT 的 mint、转移、过期机制。
    - 树木 NFT 具有唯一的 ID 和地理位置，代表具体的树木。
    - 每个 NFT 资产的生命周期和 mint 机制将被智能合约管理。

---

### **1. 前端开发**

#### 1.1 **用户认证与账户管理**
- **功能**：
  - 用户可以通过 **MetaMask**、**Sui 钱包** 等进行登录。
  - 用户可以查看自己的钱包地址、余额、已拥有的树木。
- **设计**：
  - 登录页面：提供钱包连接按钮（如 Sui 钱包的“Connect Wallet”）。
  - 用户账户页面：展示当前账户的所有树木、碳汇数据、树木的历史信息。
  
**React 示例代码（钱包连接）**：
```javascript
import React, { useState } from 'react';
import { connectSuiWallet } from './SuiWallet';  // 假设这是一个封装好的钱包连接工具

function WalletConnect() {
  const [walletAddress, setWalletAddress] = useState(null);

  const handleConnect = async () => {
    try {
      const address = await connectSuiWallet();  // 连接钱包并获取地址
      setWalletAddress(address);
    } catch (error) {
      console.error('Failed to connect wallet:', error);
    }
  };

  return (
    <div>
      {!walletAddress ? (
        <button onClick={handleConnect}>Connect Wallet</button>
      ) : (
        <div>Connected as: {walletAddress}</div>
      )}
    </div>
  );
}

export default WalletConnect;
```

#### 1.2 **树木展示与信息查看** 
- **功能**：
  - 展示所有树木的基本信息（如树木ID、树种、位置、所有权等）。
  - 使用地图展示每棵树的位置，点击树木可以查看更详细的信息。
  - 展示每棵树的碳汇量、所有权、修复记录等。
  
**设计**：
- **树木列表页**：列出所有树木，每棵树旁边显示简要信息，如编号、位置、碳汇量。
- **树木详情页**：点击树木进入详细页面，显示更详细的信息，包括历史修复记录、碳吸收量、树木的地理位置（地图展示）。

**React 示例代码（树木展示）**：
```javascript
import React, { useState, useEffect } from 'react';
import { getTreeInfo } from './api';  // 假设这个函数从后端获取树木信息
import { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';  // 使用 Leaflet.js 显示地图
import { useParams } from 'react-router-dom';

function TreeDetail() {
  const { treeId } = useParams();
  const [treeData, setTreeData] = useState(null);

  useEffect(() => {
    // 从后端获取树木详细信息
    getTreeInfo(treeId).then(setTreeData);
  }, [treeId]);

  return (
    <div>
      {treeData ? (
        <div>
          <h2>Tree ID: {treeData.id}</h2>
          <p>Species: {treeData.species}</p>
          <p>Carbon Sequestration: {treeData.carbonSequestration} kg</p>
          <p>Location: {treeData.lat}, {treeData.lon}</p>
          
          {/* 地图展示 */}
          <MapContainer center={[treeData.lat, treeData.lon]} zoom={13} style={{ width: '100%', height: '400px' }}>
            <TileLayer url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png" />
            <Marker position={[treeData.lat, treeData.lon]}>
              <Popup>{`Tree ID: ${treeData.id}`}</Popup>
            </Marker>
          </MapContainer>
        </div>
      ) : (
        <div>Loading...</div>
      )}
    </div>
  );
}

export default TreeDetail;
```

#### 1.3 **碳汇结算与数据分析**
- **功能**：
  - 显示每棵树的碳汇量。
  - 展示基于树木、气象数据等计算出的碳吸收情况。
  - 提供数据图表分析，例如按区域展示碳吸收数据。
  
**设计**：
- **碳汇页面**：展示树木的碳吸收量，使用 **图表**（例如 **Chart.js**）展示树木吸碳量的趋势。
- **树木碳汇结算**：显示树木生长过程中产生的碳汇结算，结合气象和地形数据进行计算。

**React 示例代码（碳汇展示）**：
```javascript
import React, { useState, useEffect } from 'react';
import { Line } from 'react-chartjs-2';  // 使用 Chart.js 来展示碳汇数据
import { getCarbonData } from './api';

function CarbonSequestrationChart({ treeId }) {
  const [carbonData, setCarbonData] = useState(null);

  useEffect(() => {
    // 获取碳汇数据
    getCarbonData(treeId).then(setCarbonData);
  }, [treeId]);

  const data = {
    labels: carbonData ? carbonData.dates : [],
    datasets: [
      {
        label: 'Carbon Sequestration (kg)',
        data: carbonData ? carbonData.values : [],
        borderColor: 'rgba(75,192,192,1)',
        borderWidth: 1,
        fill: false,
      },
    ],
  };

  return (
    <div>
      <h3>Carbon Sequestration Data</h3>
      {carbonData ? (
        <Line data={data} />
      ) : (
        <div>Loading data...</div>
      )}
    </div>
  );
}

export default CarbonSequestrationChart;
```

#### 1.4 **碳汇数据可视化**

通过图表展示树木的碳汇数据和生长状态，可以使用 **Chart.js** 或 **D3.js** 来动态渲染。

**示例代码**（碳汇数据可视化）：
```javascript
import React, { useState, useEffect } from 'react';
import { Line } from 'react-chartjs-2';
import { getCarbonData } from './api';  // 从后端获取碳汇数据

function CarbonSequestrationChart({ treeId }) {
  const [carbonData, setCarbonData] = useState(null);

  useEffect(() => {
    // 获取树木的碳汇数据
    getCarbonData(treeId).then(setCarbonData);
  }, [treeId]);

  const data = {
    labels: carbonData ? carbonData.dates : [],
    datasets: [
      {
        label: 'Carbon Sequestration (kg)',
        data: carbonData ? carbonData.values : [],
        borderColor: 'rgba(75,192,192,1)',
        borderWidth: 1,
        fill: false,
      },
    ],
  };

  return (
    <div>
      <h3>Carbon Sequestration Data</h3>
      {carbonData ? (
        <Line data={data} />
      ) : (
        <div>Loading data...</div>
      )}
    </div>
  );
}

export default CarbonSequestrationChart;
```

#### 1.5 **树木所有权与交易**
- **功能**：
  - 用户可以转让树木的所有权，进行交易。
  - 每次所有权转移时，智能合约会更新树木信息。
  
**设计**：
- **树木交易页面**：显示树木的所有权，可以购买、出售树木。点击“转移所有权”后，调用 Sui 智能合约进行交易。

**React 示例代码（所有权转移）**：
```javascript
import React, { useState } from 'react';
import { transferOwnership } from './SuiWallet';  // 假设这是一个与 Sui 区块链交互的函数

function TransferOwnership({ treeId, currentOwner }) {
  const [newOwner, setNewOwner] = useState('');

  const handleTransfer = async () => {
    try {
      await transferOwnership(treeId, currentOwner, newOwner);  // 调用 Sui 合约进行所有权转移
      alert('Ownership transferred successfully!');
    } catch (error) {
      console.error('Transfer failed:', error);
    }
  };

  return (
    <div>
      <h3>Transfer Ownership</h3>
      <input
        type="text"
        placeholder="New Owner Address"
        value={newOwner}
        onChange={(e) => setNewOwner(e.target.value)}
      />
      <button onClick={handleTransfer}>Transfer Ownership</button>
    </div>
  );
}

export default TransferOwnership;
```

#### 1.6 **树木生长状态实时更新（物理数字孪生）**

通过使用 **WebSocket** 或 **轮询机制**，实时更新树木的生长状态和碳汇数据。

**WebSocket 示例**（实时更新树木状态）：
```javascript
import React, { useState, useEffect } from 'react';

// 假设 WebSocket 连接至后端获取实时数据
const socket = new WebSocket('wss://tree-growth.example.com');

function TreeGrowthStatus({ treeId }) {
  const [growthStatus, setGrowthStatus] = useState(null);

  useEffect(() => {
    socket.onopen = () => {
      socket.send(JSON.stringify({ action: 'subscribe', treeId }));
    };

    socket.onmessage = (event) => {
      const data = JSON.parse(event.data);
      if (data.treeId === treeId) {
        setGrowthStatus(data.growthStatus);
      }
    };

    return () => {
      socket.close();
    };
  }, [treeId]);

  return (
    <div>
      {growthStatus ? (
        <div>
          <h3>Tree Growth Status</h3>
          <p>{growthStatus}</p>
        </div>
      ) : (
        <div>Loading...</div>
      )}
    </div>
  );
}

export default TreeGrowthStatus;
```

#### 1.7 **多用户交互（NFT 资产管理）**

用户通过钱包进行交互，每个用户的地址都可以查询、转移或 mint 对应的树木 NFT。用户的 NFT 将具有 24 小时 mint 时效性，过期后流入公域供其他用户抢占。

**React 代码（mint 过程）**：
```javascript
import React, { useState } from 'react';
import { mintTreeNFT } from './SuiWallet';  // 用于mint NFT的函数

function MintNFT({ treeId }) {
  const [mintingStatus, setMintingStatus] = useState('');  // 当前 mint 状态

  const handleMint = async () => {
    try {
      setMintingStatus('Minting...');
      await mintTreeNFT(treeId);  // 调用 Sui 合约进行 NFT mint
      setMintingStatus('Minted successfully!');
    } catch (error) {
      console.error('Minting failed:', error);
      setMintingStatus('Minting failed');
    }
  };

  return (
    <div>
      <h3>Mint Tree NFT</h3>
      <button onClick={handleMint}>Mint NFT for Tree {treeId}</button>
      <p>{mintingStatus}</p>
    </div>
  );
}

export default MintNFT;
```

#### 1.8 **NFT 过期和流入公域**

若用户未在 **24 小时内 mint** 对应的树木 NFT，则该树木 NFT 资产将流入公域供其他用户抢占。这个逻辑可以通过调用 Sui 智能合约来管理。

**React 示例代码（NFT 过期处理）**：
```javascript
import React, { useEffect, useState } from 'react';
import { getTreeNFTExpiration, mintNFT } from './SuiWallet';  // 获取NFT过期时间和mint

function TreeNFT({ treeId }) {
  const [expirationTime, setExpirationTime] = useState(null);
  const [isMintable, setIsMintable] = useState(false);

  useEffect(() => {
    async function checkExpiration() {
      const expiration = await getTreeNFTExpiration(treeId);  // 获取树木NFT的过期时间
      setExpirationTime(expiration);

      const currentTime = Date.now();
      if (expiration && currentTime < expiration) {
        setIsMintable(true);
      } else {
        setIsMintable(false);
      }
    }
    
    checkExpiration();

    // 24小时后检查 NFT 是否过期
    const timer = setInterval(() => checkExpiration(), 10000);  // 每10秒钟更新一次

    return () => clearInterval(timer);
  }, [treeId]);

  const handleMint = async () => {
    if (isMintable) {
      try {
        await mintNFT(treeId);  // 进行NFT的mint
        alert('NFT Minted!');
      } catch (error) {
        console.error('Minting failed:', error);
      }
    } else {
      alert('NFT has expired and is now available for public minting!');
    }
  };

  return (
    <div>
      <h3>Tree {treeId} NFT</h3>
      <p>Expiration Time: {expirationTime ? new Date(expirationTime).toLocaleString() : 'Loading...'}</p>
      <button onClick={handleMint} disabled={!isMintable}>Mint NFT</button>
    </div>
  );
}

export default TreeNFT;
```

---

### **2. Sui 智能合约设计**

#### 2.1 **NFT 生成与过期逻辑**

在智能合约中，树木 NFT 的过期时间、mint 状态、以及流入公域的逻辑都需要通过智能合约进行管理。

**Sui 智能合约示例**（使用 Move 编写）：

```move
module TreeNFT {
    use 0x2::NFT;
    use 0x2::Time;

    struct TreeNFT has store {
        id: u64,
        owner: address,
        expiration: u64,
        isMinted: bool,
    }

    public fun mint_nft(account: &signer, tree_id: u64): address {
        let expiration_time = Time::now() + 86400;  // 24 hours from now
        let nft = TreeNFT {
            id: tree_id,
            owner: signer::address_of(account),
            expiration: expiration_time,
            isMinted: false,
        };
        let nft_address = NFT::create(account, nft);
        nft_address
    }

    public fun check_expiration(tree_id: u64): bool {
        let tree_nft = NFT::get_tree_nft(tree_id);
        if (tree_nft.expiration <= Time::now()) {
            return

 true;
        }
        return false;
    }

    public fun mint_after_expiration(account: &signer, tree_id: u64): address {
        let nft_address = TreeNFT::mint_nft(account, tree_id);
        NFT::mint_to_public(nft_address);  // 将NFT转到公域
        nft_address
    }
}
```
---

### **3. 前端与后端、区块链交互**

前端与 **Sui 区块链** 和 **后端 API** 的交互是通过 **Axios** 或 **Fetch** 实现的。区块链操作需要使用 **Sui SDK**，如连接钱包、发起交易等。

#### **区块链交互：Sui SDK 示例**
```javascript
import { JsonRpcProvider, Account } from '@mysten/sui.js';

// 创建 Sui 钱包连接
const provider = new JsonRpcProvider('https://rpc.sui.io');
const account = new Account('private_key');  // 使用用户钱包的私钥

// 转移所有权
async function transferOwnership(treeId, newOwner) {
  const tx = await account.signAndExecuteTransaction({
    kind: 'call',


    target: 'contract_address',
    data: {
      function: 'transfer_ownership',
      args: [treeId, newOwner],
    },
  });
  return tx;
}
```

---


---

# Dropin Platform: AI-Driven Carbon Credit Verification and Gamified Social Tree Planting for Forest Restoration (Base Chain)

## Overview

The **Dropin Platform** leverages **AI technology** for precise **carbon credit verification** and integrates **gamified social mechanisms** to encourage users to actively participate in **tree planting** and **forest restoration** efforts. Built on the **Base chain**, the platform offers a **transparent**, **efficient**, and **engaging** carbon credit ecosystem.

## Objectives

1. **Precise Carbon Credit Verification**
   - Utilize AI technology to measure and assess carbon sequestration precisely, ensuring the authenticity and reliability of carbon credits.

2. **Encourage User Participation**
   - Use gamification and social mechanisms to actively engage users in tree planting and forest conservation efforts.

3. **Transparency and Traceability**
   - Record the entire process of carbon credit generation, trading, and usage on the **Base chain** to ensure traceability and transparency.

4. **Promote Ecological Restoration**
   - Use platform activities to support forest restoration and ecological recovery to combat climate change.

## Implementation Plan

### AI-Driven Carbon Sequestration Assessment

1. **Data Collection**
   - **Drones** equipped with **hyperspectral cameras** and **LiDAR** collect data on forest vegetation, terrain, and soil.
   - Combine **meteorological** and **satellite data** to create multidimensional datasets.

2. **Model Training**
   - Use **deep learning** and AI techniques to train carbon sequestration models, which predict carbon storage capacity of forests based on input data.

3. **Result Verification**
   - Partner with third-party organizations to validate AI model predictions to ensure accuracy.
   - Regularly update and optimize the model to improve prediction accuracy.

### Carbon Credit System Based on the Base Chain

1. **Carbon Credit Generation**
   - Convert carbon sequestration data into **carbon credits** based on AI model evaluations.
   - Record **carbon credit generation** on the **Base chain**, including data such as quantity, source, and time.

2. **Carbon Credit Trading**
   - Users can freely **trade carbon credits** on the platform.
   - All trading records are stored on the **Base chain** for transparency.

3. **Carbon Credit Usage**
   - Users can **offset their carbon emissions** using carbon credits.
   - Usage records are stored on the **Base chain** to ensure the validity of carbon credits.

### Gamified Social Tree Planting

1. **Virtual Trees**
   - Users can **plant virtual trees**, water, and fertilize them, with the growth linked to carbon credits.
   - Users earn **carbon credits** through virtual tree planting.

2. **Social Interaction**
   - Users can invite **friends** to participate in tree planting and form teams to complete tasks.
   - **Leaderboards**, achievement systems, and competitive elements are implemented to increase user engagement.

3. **Real Tree Planting**
   - Link **virtual trees** to real-world tree planting projects.
   - Users can donate to **support real tree planting** and forest restoration efforts.

## Detailed Implementation

### 1. Data Synchronization and Fault Tolerance

#### Objectives
- **High data synchronization speed** and **accuracy**.
- **Fault tolerance**, ensuring the platform operates despite network disruptions or data loss.

#### Solutions
- **Distributed Ledger + Edge Computing:** Use **IPFS** + **Blockchain** to reduce load on the main chain, ensuring real-time data synchronization and storage.
- **Data Storage:**
  - **On-chain:** Store carbon credit metadata (timestamps, ownership, etc.).
  - **Off-chain:** Use decentralized storage like **IPFS** or **Filecoin** for large data (e.g., drone images).
- **AI Algorithms:** Implement AI to compensate for missing data, using models like **GAN** for image generation and data completion.

### 2. AI Models and Real-time Updates

#### Objectives
- Improve **model precision** and incorporate **dynamic environmental factors**.
- Enable **fast model iterations** for quick updates.

#### Solutions
- **Dynamic Adjustments:** Use real-time **environmental data** (temperature, humidity, etc.) to adjust carbon sequestration predictions.
- **Sensor Fusion:** Combine data from multiple sources (e.g., drones, sensors) to improve accuracy.
- **Deep Learning Optimization:** Use AI models with self-optimizing mechanisms to enhance prediction accuracy.
- **Model Updates:** Regular updates by research institutions ensure models adapt to changing environments.

### 3. Social Features and Gamified Mechanisms

#### Objectives
- Increase **user engagement** and platform **stickiness**.
- Encourage more users to participate through **reward mechanisms**.

#### Solutions
- **Green Tasks & Competitions:** Users engage in **crowdfunding challenges** for tree planting projects, adding a competitive edge.
- **Leaderboards & Achievements:** Community rankings and achievements, such as “Best Crowdfunding Supporter” or “Most Active Participant”.
- **Community Interaction:** Users across different regions interact, share project progress, and engage in knowledge exchange.

### 4. Carbon Credit Data Storage and Management

#### Objectives
- Improve **data storage efficiency** and **transparency**.
- **Reduce storage costs** while maintaining data integrity.

#### Solutions
- **Distributed & Off-chain Storage:** Use **IPFS** for large-scale data, storing only critical metadata on the blockchain.
- **Smart Contracts:** Automate carbon credit creation, issuance, and transfer processes, ensuring efficiency and reducing manual work.
- **Distributed Ledger:** Record each transaction, transfer, and destruction of carbon credits for full traceability.

### 5. Low-cost, High-efficiency Carbon Credit Data Storage

#### Objectives
- Lower **carbon credit storage costs**.
- Ensure **large-scale data** is stored efficiently and securely on-chain.

#### Solutions
- **Decentralized Storage Networks (IPFS + Filecoin):** Use **decentralized networks** for cost-effective and efficient storage of large datasets.
- **Smart Contracts:** Automate updates to carbon credit data, preventing errors from manual changes.
- **Automated Fund Transfer:** Direct funds to environmental projects through automated mechanisms based on project progress.

### 6. Comprehensive Implementation Framework

#### Objectives
- Ensure deep integration of **AI and blockchain** for efficient carbon credit management.
- Enhance platform **interoperability** and **user participation**.

#### Solutions
- **AI & Blockchain Integration:** AI adjusts carbon offset values based on environmental data, and **smart contracts** execute those adjustments automatically.
- **Cross-chain Solutions:** Use **cross-chain protocols** (e.g., **Polkadot**, **Cosmos**) for multi-chain compatibility, allowing Dropin to scale seamlessly.
- **NFTs & Rewards:** Users earn **NFTs** or **tokens** for participating in environmental actions, and NFTs are linked to real-world carbon credits via smart contracts.

## Conclusion

With this plan, the **Dropin Platform** will enhance the efficiency and transparency of **carbon credit management** through the integration of **AI**, **blockchain**, **social interaction**, and **cross-chain technologies**. This will help drive the global effort to reach **net-zero carbon emissions** by 2050.

---

# V3.5 DROPINMANTLE

### **Dropin on Mantle: Decentralized Green Lottery + Eco-Incentive Platform**

#### **Product Overview**
Dropin can utilize Mantle's low transaction fees, high scalability, and modular architecture to develop an eco-focused, decentralized lottery and crowdfunding platform. The platform allows users to stake tokens and participate in gamified lotteries, while contributing to environmental initiatives like reforestation and sustainability projects. The integration with Mantle enables **low-cost transactions**, **cross-chain compatibility**, and **decentralized governance** to promote eco-friendly behaviors.

---

### **Core Features & Product Design**

#### **1. Green Fund Crowdfunding with DeFi Mechanics**
- **How it Works**: Users can stake tokens (e.g., **MNT**, **$Dropin tokens**) to fund green projects (e.g., reforestation, solar energy). Each contribution gives users lottery tickets and rewards them with eco-incentives (e.g., tree planting credits, carbon credits).
- **Mantle Integration**: Mantle’s **ultra-low transaction fees** and **scalability** allow users to interact with the platform without the concern of high gas costs, making it accessible to a global audience.
- **Incentives**: Beyond the contributions, users also receive **NFTs** or **DePIN rights**, tokenizing their involvement in green initiatives, which can later be traded or redeemed.

---

#### **2. Gamified Lottery for Eco-Impact**
- **How it Works**: After a predefined crowdfunding cycle, users can participate in a **lottery** based on their staked tokens. Prizes are eco-focused, such as **solar panel rights**, **tree planting credits**, or **carbon offset tokens**.
- **Mantle’s Role**: Mantle’s **Sequencer** ensures **fast transaction ordering** and its **EigenDA** for efficient data availability ensures transparency in lottery draws and distribution, helping Dropin manage large numbers of transactions while keeping costs low.
- **Cross-Chain Support**: Using Mantle's **cross-chain interoperability**, users from various ecosystems (e.g., **Ethereum**, **Polygon**, **Solana**) can participate, expanding Dropin’s user base and fostering a diverse community of eco-conscious investors.

---

#### **3. NFT Trading for Green Impact Representation**
- **How it Works**: Contributions and lottery rewards are represented as **NFTs**, which may include rights to carbon credits, solar equipment, or tree planting initiatives. These NFTs can be **traded** on Mantle’s decentralized exchange (DEX) for additional liquidity and engagement.
- **Mantle’s Advantage**: Mantle’s **high throughput** and **low-cost transactions** make it ideal for NFT-based rewards and trading, allowing users to easily buy, sell, or hold NFTs tied to environmental impact projects.
- **Community Incentives**: Users who hold NFTs representing green assets may receive additional rewards, such as **exclusive NFTs** or **token drops** linked to platform milestones or new project phases.

---

#### **4. DAO Governance for Community Decision-Making**
- **How it Works**: A **DAO** will be formed to allow token holders and contributors to vote on critical decisions like which green initiatives receive funding, which rewards to distribute, and how the platform evolves.
- **Mantle’s Role**: Dropin can integrate **Aragon DAO** tools within Mantle’s ecosystem to support **transparent governance**. This ensures decentralized, community-driven decision-making while benefiting from Mantle’s **low-cost** and **high-speed** infrastructure.
- **Incentives for Participation**: Active users or voters can be rewarded with **tokens**, **NFTs**, or **exclusive eco-incentives** for contributing to governance decisions or helping with community growth.

---

### **Technical Architecture & Integration**

- **Low-Cost Transactions**: With **Mantle’s modular architecture**, transactions for staking, rewards, and NFT trading can be processed at **ultra-low costs**, which helps to scale Dropin’s ecosystem globally. Users don’t need to worry about high transaction fees, making the platform more attractive for small contributions and global participation.
- **Modular Blockchain Design**: Dropin’s smart contracts can utilize **Mantle DA** for efficient data storage and off-chain processing. This reduces the load on main networks while keeping transaction costs low.
- **Cross-Chain Bridges**: By using **Mantle's cross-chain features**, Dropin can support users from other chains (e.g., **Ethereum**, **Solana**, **Polygon**), expanding its ecosystem and making it more accessible to participants from multiple blockchain ecosystems.
- **Developer Tools**: Leveraging **Mantle’s developer-friendly tools** like **Hardhat** and **Mantle SDK**, Dropin can streamline the deployment of smart contracts, enhance testing and auditing processes, and rapidly develop its MVP (Minimum Viable Product) for the Hackathon.

---

### **Roadmap for Hackathon Submission**

1. **MVP Development**:
   - **Crowdfunding Mechanism**: Users stake tokens to contribute to green projects, earning lottery tickets in return.
   - **Gamified Lottery**: Stakeholders enter lotteries based on contributions, with rewards such as NFTs or eco-assets.
   - **NFTs as Rewards**: Contributions and lottery wins are tokenized as NFTs, which users can trade or redeem.
   - **DAO Setup**: A simple DAO governance model to enable decentralized decision-making on funding allocation and future rewards.

2. **Integration with Mantle**:
   - Deploy the MVP on **Mantle’s testnet** using **Hardhat** for smart contract deployment and **Mantle Faucet** for token distribution.
   - Integrate **Mantle Sequencer** for transaction ordering and **EigenDA** for data availability, optimizing performance and scalability.
   - Enable **cross-chain participation** via **Mantle’s cross-chain compatibility** to allow users from Ethereum, Solana, and other blockchains to engage.

3. **Community Engagement**:
   - Create **incentive structures** where users can earn rewards by engaging with social media campaigns (e.g., sharing their involvement in Dropin via **Telegram**, **Twitter**).
   - Promote the hackathon participation and **sustainability mission** through active **community channels** and partnerships with eco-projects.

4. **Launch & Governance**:
   - Introduce DAO functionality where the community votes on future green projects or platform upgrades.
   - Reward active participants and voters with **tokens**, **NFTs**, and other incentives.

---

### **Conclusion**
Dropin, integrated with **Mantle’s ecosystem**, provides an efficient, scalable, and community-driven platform for eco-sustainability. By leveraging Mantle’s low transaction costs, high scalability, and cross-chain compatibility, Dropin can democratize participation in green initiatives while creating a gamified, reward-driven experience. The platform aligns perfectly with Mantle’s strengths, making it a strong candidate for the **Mantle Hackathon** and paving the way for a decentralized, green future.



---

# **Dropin: Decentralized Green Lottery + Eco-Incentive Platform**

**GitHub Repository for Dropin’s Mantle Hackathon Submission**

---

## **Overview**
Dropin is a decentralized green lottery and crowdfunding platform designed to fund sustainability projects, such as reforestation and renewable energy initiatives. By utilizing **Mantle’s modular architecture** and developer tools, Dropin leverages **DeFi**, **NFTs**, and **DAO governance** to create a scalable, low-cost platform focused on environmental sustainability.

This repository contains the implementation of Dropin's **MVP** (Minimum Viable Product) for the **Mantle Hackathon**, showcasing core features like **green project crowdfunding**, **gamified eco-lottery**, **NFT rewards**, and **DAO governance**.

---

## **Features**

### **1. Green Fund Crowdfunding**
- Users stake **MNT** or **$Dropin tokens** to fund environmental projects.
- Each contribution grants users **lottery tickets** that can be used for future eco-impact lotteries.
- Supports **cross-chain participation** via Mantle’s interoperability features.

### **2. Gamified Eco-Lottery**
- Stakers are eligible to win **eco-incentive rewards** like **carbon credits**, **tree planting credits**, and **solar panel rights**.
- Transparent lottery mechanics ensured by **Mantle's Sequencer** and **EigenDA** for efficient data availability.

### **3. NFT Rewards for Eco-Impact**
- Contributions and lottery winnings are represented as **NFTs** (e.g., rights to tree planting or carbon credits).
- NFTs can be **traded on Mantle’s NFT marketplaces**, increasing liquidity and engagement within the community.

### **4. DAO Governance for Community Decision-Making**
- Users participate in governance through staking and voting on **green project funding** and platform upgrades.
- Uses **Aragon DAO** tools on **Mantle** for transparent governance and decision-making.

---

## **Installation & Setup**

### **1. Clone the Repository**
```bash
git clone https://github.com/your-repo/dropin-mantle-hackathon.git
cd dropin-mantle-hackathon
```

### **2. Install Dependencies**
- Install **Node.js** (v16.x or higher)
- Install dependencies via **npm** or **yarn**:
```bash
npm install
# or
yarn install
```

### **3. Configure Environment Variables**
- Create a `.env` file in the root of the project and configure the following environment variables:
```plaintext
MANTLE_RPC_URL=https://rpc.mantlenetwork.io
MNT_TOKEN_ADDRESS=<Mantle MNT token contract address>
DROPIN_TOKEN_ADDRESS=<Dropin token contract address>
NFT_CONTRACT_ADDRESS=<NFT contract address>
DAO_CONTRACT_ADDRESS=<DAO contract address>
```

### **4. Deploy Contracts to Mantle Testnet**
- Use **Hardhat** to deploy the smart contracts to the Mantle testnet.
```bash
npx hardhat run scripts/deploy.js --network mantleTestnet
```

---

## **Smart Contracts**

### **1. GreenFund Contract**
- The **GreenFund** contract allows users to stake tokens and fund green projects. Each stake earns users **lottery tickets** proportional to the amount contributed.
- **Lottery mechanism** triggers after a set funding period ends, with winners selected randomly.
- **Token**: MNT or $Dropin token.

#### Example of Smart Contract:
```solidity
pragma solidity ^0.8.0;

contract GreenFund {
    mapping(address => uint256) public stakes;
    mapping(address => uint256) public lotteryTickets;
    
    function stake(uint256 amount) external {
        // Stake logic
    }

    function triggerLottery() external {
        // Lottery logic
    }
}
```

### **2. NFT Contract**
- The **NFT** contract issues **NFTs** that represent eco-impact contributions, like **carbon credits** and **tree planting**.
- Each NFT can be traded or redeemed for real-world eco-rewards.

#### Example of Smart Contract:
```solidity
pragma solidity ^0.8.0;
import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Enumerable.sol";

contract EcoNFT is ERC721Enumerable {
    uint256 public tokenIdCounter;

    function mint(address to) public {
        _safeMint(to, tokenIdCounter);
        tokenIdCounter++;
    }
}
```

### **3. DAO Contract**
- The **DAO** contract enables users to vote on the allocation of funds and the decision-making process for new green projects.
- Users can stake **$Dropin tokens** to participate in governance.

#### Example of DAO Contract:
```solidity
pragma solidity ^0.8.0;
import "@openzeppelin/contracts/token/ERC20/IERC20.sol";

contract EcoDAO {
    IERC20 public governanceToken;
    
    constructor(address _governanceToken) {
        governanceToken = IERC20(_governanceToken);
    }

    function vote(uint256 proposalId, bool support) external {
        // Voting logic
    }
}
```

---

## **Mantle-Specific Integration**

### **1. Transaction Cost Optimization**
- **Mantle Sequencer**: Ensures that transactions are processed efficiently and in the correct order with minimal latency.
- **EigenDA**: Provides efficient data availability for transactions and smart contracts, reducing the need for centralized data storage and lowering costs.

### **2. Cross-Chain Compatibility**
- Dropin leverages **Mantle’s cross-chain compatibility** to enable participation from users across different blockchain ecosystems (Ethereum, Solana, etc.).

---

## **Testing the Application**

### **1. Deploy to Mantle Testnet**
- Use **Hardhat** to deploy and test the smart contracts on the **Mantle testnet**:
```bash
npx hardhat run scripts/deploy.js --network mantleTestnet
```

### **2. Interact with the Green Fund Contract**
- Use **Hardhat Console** or **Ethers.js** to interact with the deployed **GreenFund** contract for staking and lottery participation.
```javascript
const greenFund = await ethers.getContractAt('GreenFund', greenFundAddress);
await greenFund.stake(1000); // Stake 1000 MNT
```

### **3. Participate in DAO Governance**
- Users can vote on **green project funding** and other platform decisions by interacting with the **EcoDAO contract**.

---

## **Roadmap for Hackathon Submission**

1. **MVP Deployment**: 
   - Deploy the smart contracts to the **Mantle testnet** and demonstrate the core functionalities: crowdfunding, lottery, NFTs, and DAO governance.
   
2. **Testing & Bug Fixes**: 
   - Test the system’s stability and ensure smooth integration with **Mantle’s infrastructure**.

3. **Documentation & Reporting**: 
   - Prepare detailed documentation (this repository) and submit the project to the **Mantle Hackathon** platform.

---

## **Contributing**

We welcome contributions from the open-source community! To contribute, please fork the repository, make your changes, and submit a **pull request**.

### **Steps to Contribute**
1. Fork the repository.
2. Clone your fork to your local machine.
3. Make your changes.
4. Submit a pull request with a clear description of your changes.

## **team**
### **Lee** 
https://github.com/Dropineth/ 10+ years of experience in TMT consumer and ESG investment research. Focused on sustainable killer applications in Web2 and Web3. Former member of CMRC's science and technology enterprise marketing and business growth research group.

### **Junhua**  
https://github.com/XieJunhua/ Proficient in Solidity, Python, and Java. 2+ years developing Ethereum smart contracts. Experienced in blockchain technology, including Ethereum, Solana, and Sui. Strong background in data and backend development.


---

## **Acknowledgments**
- **Mantle** for its low-cost, high-performance blockchain infrastructure.
- **OpenZeppelin** for their secure smart contract libraries.

---

This **GitHub repository** provides the full technical implementation and instructions for Dropin's participation in the Mantle Hackathon, demonstrating how Dropin integrates with Mantle's ecosystem to create a sustainable, decentralized green lottery platform.


# V3.0 DROPINTON
TON | Hackers League: Winter 2024


# Pitch video

[PITCH video](https://github.com/Dropineth/dropinton/blob/main/HK%20Bootcamp%20pitch%20template%20｜DROPIN.mp4)

# Demo link

[ton mini app ](https://t.me/dropin_lotto_bot?startapp=tg-2026552626)


---

# Dropin Project: Decentralized Lottery with Tree Planting Fund

## Overview

Dropin is a decentralized application (DApp) leveraging blockchain technology, designed to engage users in sustainable practices through gamified lotteries and environmental impact. Dropin allows users to participate in a lottery system, where funds are allocated to real-world reforestation initiatives, like the UN’s Great Green Wall and AFR100, through the sale of NFTs that represent various environmental assets.

### Key Features


1. **TON & Gate Wallet Integration**: 
   - Seamless wallet connectivity for deposits and withdrawals.
   - Cross-platform compatibility for broader user access.

2. **Decentralized Lottery**: 
   - 70% of the prize pool is awarded to a grand winner.
   - 20% is distributed as NFTs representing environmental assets like solar power stations and tree seeds.

3. **Tree Planting Fund**: 
   - Supports reforestation projects through the proceeds of NFTs.
   - Users also have a chance to receive $DOP tokens as random rewards from the fund.（building）

4. **Stable Arbitrage**: 
   - A TON-USDT swap mechanism maintains the stability of the Tree Planting Fund by converting TON into USDT during price surges.

5. **Referral Rewards**: 
   - Invite new users to participate in the lottery.
   - Top 3 referrers earn rewards: **5 TON**, **2 TON**, and **1 TON**, respectively.

6. **AdTON Advertising Module**: （building）
   - Airdrops from partner projects are randomly distributed into the lottery prize pool to incentivize participation and collaboration.

---

## Components

### 1. **User Wallet Integration**

- **TON Wallet**: Allows users to deposit and withdraw TON tokens to participate in the lottery.
- **Gate Wallet**: Integrated for broader ecosystem compatibility, enabling seamless interactions with Dropin's services.

### 2. **Lucky Draw Mechanism**

- **Prize Distribution**:
  - **70% of the prize pool** is allocated to a grand winner ("锦鲤"), who receives 70 TON.
  - **20% of the prize pool** is distributed to 99 participants as NFT rewards (Solar Power Station, Air Water Station, Drip Irrigation Network, Tree Seedlings, Grass Seeds).
  - **10% of the prize pool** is allocated to the Dropin team for operational costs, including 1% for each user that invites a new participant.

### 3. **Tree Planting Fund**

- **NFT Rewards**:
  - **Solar Power Station**
  - **Air Water Station**
  - **Drip Irrigation Network**
  - **Tree Seedlings (Native to Africa, high carbon sequestration)**
  - **Grass Seeds (Native to Africa, high carbon sequestration)**

- **Fund Management**:
  - Fund size and distribution will be tracked in both **TON** and **USDT**.
  - **TON to USDT Conversion**: When the price of TON peaks, a swap occurs, converting TON into USDT and storing it in the Tree Planting Fund, ensuring the fund’s value appreciates and maintains stability.

---

## How it Works

### Lottery Process

1. **User Participation**: Users connect their TON or GATE wallets and pay 1 TON to enter the lottery.
2. **Prize Pool Allocation**: 
   - 70% of the pool goes to the grand winner.
   - 20% is distributed as NFT rewards to 99 random participants.
   - 10% is kept for Dropin’s operations.
3. **NFT Distribution**: After the lottery draw, the NFTs representing environmental assets are randomly distributed.
4. **Tree Planting Progress**: A progress bar shows the current completion of the tree planting goal in hectares, indicating the overall progress of the Great Green Wall initiative.
5. **Referral Rewards**: 
   - Invite new users to participate in the lottery.
   - Top 3 referrers earn rewards: **5 TON**, **2 TON**, and **1 TON**, respectively.

### **Step-by-Step Process Breakdown**

#### 1. **User Participation:**
Users connect their **TON or Gate Wallet** and pay **1 TON** to enter the lottery.

- **TON Wallet Integration**: Users should connect their wallets to the app, which can be done using the TON SDK for mini apps.

```javascript
// Assuming we have TON SDK integrated in the mini app
const tonSdk = new TONSDK();  // TON SDK instance

// Function to connect the TON wallet
async function connectWallet() {
  try {
    const wallet = await tonSdk.wallet.connect();  // Connects the wallet
    console.log("Connected to wallet: ", wallet.address);
  } catch (error) {
    console.error("Error connecting wallet: ", error);
  }
}

// Example: User presses a button to connect their wallet
document.getElementById("connect-btn").addEventListener("click", connectWallet);
```

#### 2. **Prize Pool Allocation:**
70% of the prize pool goes to the **grand winner**, 20% is distributed as **NFT rewards** to 99 random participants, and 10% is kept for **Dropin's operations**.

```javascript
// Simulate the Prize Pool Allocation
const prizePool = 1000;  // Total pool amount in TON
const grandPrize = prizePool * 0.7;  // 70% to grand winner
const nftRewards = prizePool * 0.2;  // 20% to 99 participants
const operationalFund = prizePool * 0.1;  // 10% for Dropin operations

// Simulate winner and participant allocation
const grandWinner = "0x123abc";  // Example grand winner address
const nftParticipants = Array(99).fill().map(() => generateRandomAddress());  // Simulate 99 random participants

function generateRandomAddress() {
  return "0x" + Math.random().toString(16).slice(2, 18);
}

// Output the prize pool details
console.log("Grand Winner: ", grandWinner);
console.log("NFT Rewards: ", nftParticipants);
console.log("Operational Fund: ", operationalFund);
```

#### 3. **NFT Distribution:**
After the lottery draw, NFTs representing environmental assets are randomly distributed to 99 participants.

```javascript
// Simulating NFT distribution (e.g., tree seeds, solar panels, etc.)
function distributeNFTs() {
  const environmentalNFTs = ['Tree Seed NFT', 'Solar Power NFT', 'Water Station NFT', 'Drip Irrigation NFT'];
  const nftAllocations = nftParticipants.map(() => {
    const randomNFT = environmentalNFTs[Math.floor(Math.random() * environmentalNFTs.length)];
    return randomNFT;
  });

  console.log("NFT Distribution: ", nftAllocations);
}

// Call to distribute NFTs after the lottery draw
distributeNFTs();
```

#### 4. **Tree Planting Progress:**
A progress bar tracks the tree planting goal, showing hectares planted.

```javascript
// Simulating tree planting progress
let hectaresPlanted = 1000000;  // Total hectares planted globally
let currentProgress = 0.1;  // Progress percentage (10%)

// Update progress bar (for example, in a UI component)
function updateProgress() {
  const progressBar = document.getElementById("progress-bar");
  progressBar.style.width = `${currentProgress * 100}%`;  // Update progress bar
  console.log(`Current Progress: ${currentProgress * 100}%`);
}

// Call the progress update function periodically
setInterval(updateProgress, 1000);  // Update every 1 second for demo
```
### 5.Referral Rewards Distribution

```javascript
// Simulate top 3 referrers and reward distribution
const referrers = [
  { name: "User A", invites: 50 },
  { name: "User B", invites: 30 },
  { name: "User C", invites: 20 },
];

const rewards = [5, 2, 1]; // Rewards in TON for top 3

referrers.slice(0, 3).forEach((referrer, index) => {
  console.log(`${referrer.name} receives ${rewards[index]} TON for ${referrer.invites} invites`);
});
```

# Dropin Lucky Draw Mini App (TON Integration)

## Overview

The **Dropin Lucky Draw** is a TON-based decentralized application (DApp) designed to gamify reforestation efforts and engage the community through blockchain technology. This app enables users to participate in a lottery that funds tree-planting projects and rewards participants with NFTs tied to environmental assets.

## Features

- **TON Wallet Integration**: Connect with Gate or TON wallet to participate in the lottery.
- **Lottery Prize Pool Allocation**: 70% goes to the grand prize winner, 20% to 99 NFT recipients, and 10% for Dropin operations.
- **NFT Rewards**: Random distribution of NFTs, including solar power stations, air water stations, and carbon-sequestering tree seeds.
- **Tree Planting Progress**: A progress bar that tracks the overall planting goal of 1 billion hectares.
- **Referral Rewards**: 
   - Invite new users to participate in the lottery.
   - Top 3 referrers earn rewards: **5 TON**, **2 TON**, and **1 TON**, respectively.

## How It Works

### 1. **User Participation**:
- Connect your **TON or Gate wallet** and pay **1 TON** to enter the lottery.

### 2. **Prize Pool Allocation**:
- **70%** of the pool is awarded to the **grand winner**.
- **20%** is distributed as **NFT rewards** to 99 random participants.
- **10%** is kept for **Dropin's operational costs**.

### 3. **NFT Distribution**:
- After the lottery draw, **NFTs representing environmental assets** are **randomly distributed** to 99 participants.

### 4. **Tree Planting Progress**:
- A **progress bar** shows the current completion of the tree planting goal, measured in hectares.

### 5.**Referral Rewards**: 
   - Invite new users to participate in the lottery.
   - Top 3 referrers earn rewards: **5 TON**, **2 TON**, and **1 TON**, respectively.

---

## Code Example

### **Sample Code Snippet for Prize Pool Allocation (JavaScript)**

```javascript
// Simulate the Prize Pool allocation
const prizePool = 1000; // Total pool amount in TON
const grandPrize = prizePool * 0.7; // 70% goes to grand winner
const nftRewards = prizePool * 0.2; // 20% distributed to 99 random participants
const operationalFund = prizePool * 0.1; // 10% for Dropin operations

// Winner distribution
const grandWinner = "0x123abc"; // Example wallet address
const nftParticipants = Array(99).fill().map(() => generateRandomAddress()); // Simulate 99 random participants

console.log("Grand Winner: ", grandWinner);
console.log("NFT Rewards for 99 Participants: ", nftParticipants);
console.log("Operational Fund: ", operationalFund);

// Helper function to generate random addresses for participants (simulation)
function generateRandomAddress() {
  return "0x" + Math.random().toString(16).slice(2, 18);
}

// Simulating the result display
function displayResults() {
  alert(`Grand Prize: ${grandPrize} TON awarded to: ${grandWinner}`);
  alert(`NFT rewards (Total: ${nftRewards} TON) distributed to 99 participants`);
  alert(`Dropin Operational Fund: ${operationalFund} TON`);
}

// Call the display function to show results
displayResults();
```
---

## **Stable Arbitrage Mechanism**

The **Stable Arbitrage Mechanism** ensures the Tree Planting Fund’s value remains stable by monitoring the TON price and triggering automatic swaps to USDT when TON’s price reaches a peak. This ensures that the fund is protected from market volatility and continues to grow consistently, supporting reforestation projects without the risk of devaluation.

### **How it Works:**

1. **TON Price Monitoring**: The system constantly monitors the TON market price.
2. **Swap Trigger**: Once TON’s price exceeds a predefined threshold, the system automatically swaps TON for USDT at a 1:1 ratio.
3. **Fund Growth**: The swapped USDT is added to the Tree Planting Fund, ensuring the fund grows and remains stable.### Stable Arbitrage Mechanism

### **TON-USDT Swap:**

The **Stable Arbitrage Mechanism** aims to protect the Tree Planting Fund from the volatility of the TON token. When the value of TON spikes, the system automatically triggers a swap to USDT at a 1:1 ratio. This helps maintain the fund’s stability and protects it from the potential devaluation caused by market fluctuations in TON’s value.

To implement this, the following steps are followed:

1. **Identify Optimal TON Price Point**: The mechanism constantly monitors the price of TON in the market. Once the price exceeds a predefined threshold, the system triggers the swap to USDT.

2. **Perform the Swap Using DeDust**: The swap is carried out via the **DeDust Protocol** using the Vault and Pool mechanisms. The Vault will receive the TON tokens and the Pool will handle the conversion to USDT.

3. **Track Fund Balance and Growth**: After the swap, the USDT is held in the Tree Planting Fund, ensuring its value is stable and continually growing. The fund’s growth is tracked via **LP tokens** and liquidity pool management.

---

### **Code Implementation for TON-USDT Swap (DeDust Protocol)**

Below is the implementation code using the **DeDust SDK** for the TON-USDT swap and the tracking of the Tree Planting Fund balance.

#### **1. Finding the Vault and Pool for TON-USDT Swap**

The following code demonstrates how to use **DeDust** to interact with the Vault and perform the swap once the price of TON reaches a peak:

```typescript
import { Asset, PoolType, Factory, VaultNative } from '@dedust/sdk';
import { Address, TonClient4 } from '@ton/ton';
import { toNano } from '@ton/core';

// Initialize TON client and Factory contract
const tonClient = new TonClient4({ endpoint: "https://mainnet-v4.tonhubapi.com" });
const factory = tonClient.open(Factory.createFromAddress(MAINNET_FACTORY_ADDR));

// Define TON and USDT as assets
const TON = Asset.native();
const USDT = Asset.jetton(Address.parse('YOUR_USDT_JETTON_ADDRESS'));

// Fetch Vault (TON) and Pool (TON, USDT)
const tonVault = tonClient.open(await factory.getNativeVault());
const pool = tonClient.open(await factory.getPool(PoolType.VOLATILE, [TON, USDT]));

// Ensure that the Vault and Pool are deployed
if ((await pool.getReadinessStatus()) !== ReadinessStatus.READY) {
  throw new Error('Pool (TON, USDT) does not exist.');
}

if ((await tonVault.getReadinessStatus()) !== ReadinessStatus.READY) {
  throw new Error('Vault (TON) does not exist.');
}
```

#### **2. Monitoring the TON Price and Triggering the Swap**

This section is responsible for monitoring TON’s price and executing the swap when it reaches a threshold:

```typescript
// Assume we have a function `getTONPrice()` that fetches the current TON price.
async function monitorAndSwap() {
  const tonPrice = await getTONPrice(); // Fetch TON price from an oracle or price feed.
  const swapThreshold = 1.5; // Define the TON price threshold for triggering the swap.

  if (tonPrice >= swapThreshold) {
    const amountIn = toNano('100'); // Example: Swap 100 TON to USDT.

    // Send the swap request to the Vault (TON)
    await tonVault.sendSwap(sender, {
      poolAddress: pool.address,
      amount: amountIn,
      gasAmount: toNano("0.25"),
    });

    console.log("TON to USDT swap completed successfully.");
  } else {
    console.log("TON price not high enough to trigger the swap.");
  }
}
```

#### **3. Tracking Fund Growth:**

The Tree Planting Fund balance in USDT is tracked using **Liquidity Pool** (LP) tokens issued to the fund address after each successful swap. The following code demonstrates how you can track this balance:

```typescript
const lpWallet = tonClient.open(await pool.getWallet(fundAddress)); // Fund’s wallet to track LP token balance
const fundBalance = await lpWallet.getBalance();

console.log(`Tree Planting Fund Balance in LP Tokens: ${fundBalance}`);
```

#### **Tracking the Swap Operation**

For each TON-to-USDT swap, you will need to log the transaction details to monitor fund growth and ensure proper execution. This can be done using the following code:

```typescript
// Log the swap transaction for audit and tracking
async function logSwapTransaction(senderAddress: string, amountIn: bigint) {
  const transactionId = await logTransaction(senderAddress, amountIn); // Implement logging function
  console.log(`Transaction recorded. ID: ${transactionId}`);
}
```

This log function can send transaction details to an off-chain service (e.g., database or analytics platform) for tracking fund flow and stability.

---


## Technical Overview

### **Smart Contracts**

The following smart contracts are responsible for the lottery process, NFT distribution, and the TON-USDT conversion mechanism.

```solidity
// Example of smart contract for swap logic
contract StableArbitrage {
    address public admin;
    uint public tonBalance;
    uint public usdtBalance;
    
    constructor() {
        admin = msg.sender;
    }
    
    function swapTONForUSDT(uint amount) public {
        require(msg.sender == admin, "Only admin can swap");
        require(amount <= tonBalance, "Insufficient TON balance");
        
        uint usdtAmount = amount * getTONToUSDTPrice();
        usdtBalance += usdtAmount;
        tonBalance -= amount;
        
        // Transfer USDT to Tree Fund
        transferToTreeFund(usdtAmount);
    }

    function getTONToUSDTPrice() private view returns (uint) {
        // Implement price fetch from oracle
        return 1; // Simplified for illustration
    }
    
    function transferToTreeFund(uint amount) private {
        // Logic to transfer funds to the tree planting fund
    }
}
```
---

## DeDust Protocol Integration (Future DeFi Expansion)

### 1. **DeFi Yield Maximizers**

Using the **DeDust Protocol**, users can deposit their TON or USDT in yield farming contracts to maximize their returns. Users can participate in liquidity pools and receive rewards in $TON or other tokens, helping increase the sustainability of the Tree Planting Fund.

### 2. **DeDust Swap Implementation**

Users can swap between TON and USDT directly on the DeDust protocol, utilizing automated market makers (AMMs) for efficient and low-cost trading.

### 3. **User-Facing DeFi Apps**

Create easy-to-use interfaces for users to interact with yield farming, staking, and swap features, helping grow the Dropin ecosystem and maximize environmental funding.

---

## Installation（building）

To run the project locally:

1. Clone the repository:
   ```bash
   git clone https://github.com/Dropineth/dropinton/DropinProject/Dropin.git
   cd Dropin
   ```

2. Install dependencies (for smart contracts, etc.):
   ```bash
   npm install
   ```

3. Start the frontend (React or any other framework you're using):
   ```bash
   npm start
   ```

---

## Contributing

We welcome contributions! Please feel free to open an issue or submit a pull request. Make sure to follow the contribution guidelines and maintain consistency with the project's goals of sustainability and decentralization.

---

## Contact
For support or inquiries, contact us at dropineth@gmail.com

---

### TEAM

## Y.C.  Co-FOUNDER
A seasoned blockchain and full-stack development expert with over a decade of experience at top-tier companies like HashKey Cloud, Binance, and MyTV Super, leading innovative Web3 solutions, enhancing security architectures, driving DeFi product development, and optimizing system operations across diverse industries.

## CAT BOSS Co-FOUNDER 
With over 15 years of experience in internet technology, including roles at renowned companies such as McCann Worldgroup, Hopen, and ISAILSOFT, I bring expertise in global project collaboration, B2B2C technical solutions, and Web3 product development. 

## YU Co_FOUNDER
Host of Shenzhen HackathonWeekly, Initiator of AI Co-learning Sessions on Tuesday and Thursday evenings.  
Five years of experience as a UX designer in top-tier tech companies. , specializing in consumer-facing content monetization products (serving both domestic and international markets) and high-engagement tools (with tens of millions of daily active users). Proficient in B2B AI backend design, with extensive expertise in end-to-end design and user experience optimization.

## LEE FOUNDER
10+ years of experience in TMT \Consumer\ ESG investment research. Focused on sustainable killer applications in Web2 and Web3. Former member of CMRC's science and technology enterprise marketing and business growth research group.


---
 
# V2.0 Solana Dropin DApp gamefi

A decentralized lottery platform employing DePIN to tokenize real-world assets related to reforestation, allowing participants to directly contribute to the UN FAO's Great Green Wall initiative while earning rewards.


# Project Overview
Dropin is an innovative blockchain DApp built on the Vara Network and Solana, designed to provide users with a new interactive experience and value creation platform through gamified lotteries, financial incentives, NFT assets, and decentralized trading. Leveraging smart contracts and blockchain technology, Dropin ensures fairness, transparency, and security in the DroPin lottery process.

## Core Features

Note: The core features represent the first four steps of the implemented roadmap.

### Core Feature 1: User Registration and Authentication
**Explanation:**
Users can register via email or social accounts, complete KYC verification, or link their wallet address for identity validation.

###  Feature 2: Equipment Crowdfunding
**Explanation:**
Users can participate in crowdfunding as a group to purchase solar panels, drip irrigation pipes, and other equipment to achieve sustainable development goals.

###  Feature 3: Lucky Draw
**Explanation:**
At the end of each crowdfunding cycle, the system randomly selects lucky users to gain corresponding DePIN rights, including future benefits from power, water, and pipeline supply. Non-winning users will receive tree planting rights and can benefit from future carbon credits. If a winning user opts out of DePIN rights, they can choose to participate in the GameFi lottery to receive tokens.

###  Feature 4: Blink Sharing on Twitter
**Explanation:**
Users can share activities via Blink to Twitter, and through sharing interactions, they can earn rewards, such as optional tree planting rights.

###  Feature 5: NFT Trading: Roadmap
**Explanation:**
Users can trade NFTs on decentralized exchanges, enabling asset circulation.

###  Feature 6: Exploring DAO Governance Model: Roadmap
**Explanation:**
Establish a decentralized autonomous organization to allow community members to participate in project decision-making.



#  Roadmap
## Overview
This roadmap aims to establish Dropin as a decentralized application that supports the Great Green Wall initiative in a gamified manner, leveraging blockchain technology to achieve transparent and equitable resource distribution while stimulating community engagement.
This roadmap emphasizes technical stability, user growth, and global scaling while advancing the UN’s Green Wall initiative.


###  Q1: Core Infrastructure Development

**Smart Contracts & Platform Architecture:** Complete the development of smart contracts on Vara and Solana for the DePIN project, including crowdfunding and reward distribution mechanisms.

**MVP Testing:** Launch an MVP for internal testing, refining key features like user registration, lottery mechanics, and on-chain payment interactions.

**Team Expansion & Partnerships:** Finalize key members of the tech, operations, and marketing teams, while building partnerships with blockchain projects and environmental organizations (e.g., FAO).

###  Q2: Community Expansion & Early User Acquisition

**Community Building:** Use airdrops and GameFi incentives to attract early adopters and turn them into long-term users and ambassadors.

**NFT & Token Launch:** Introduce DePIN-backed NFTs and conduct an initial token offering (IDO) for fundraising.

**Cross-Chain Exploration:** Explore multi-chain support, enabling users to participate via other compatible chains like Polygon or Avalanche.

###  Q3: Ecosystem Growth & Global Outreach

**Global Marketing:** Focus on international promotion in regions supporting the Green Wall initiative (Africa and the Middle East) in collaboration with NGOs and green projects.

**Project Expansion:** Add more DePIN projects like solar plants and water management, allowing users to diversify their green investments.

**Multi-Language Support:** Localize the platform with multi-language support to attract a global user base.

###  Q4: Innovation & Long-Term Development

**DAO Governance & Community Voting:** Implement a governance model that empowers users to vote on platform decisions, ensuring transparency and community ownership.

**New Environmental Incentives:** Introduce carbon offset trading and reward systems tied to carbon credits for long-term user incentives.

**Future Funding:** Prepare for a Series A funding round to support platform expansion and global growth.


# Key Metrics

**User Growth:** Monthly new user count, active user count

**Transaction Volume:** NFT transaction volume, DePIN transaction volume

**Community Engagement:** Community member count, activity level, participation rate

**Great Green Wall Progress:** Funds raised, equipment deployed

# Risk Assessment and Mitigation

**Technical Risks**
Utilize mature blockchain technologies, strengthen code audits, and conduct regular security assessments.

**Market Risks**
Monitor market conditions and adjust marketing strategies accordingly.

**Regulatory Risks**
Stay informed about relevant regulations to ensure compliant operations.

# Success Criteria

**User Growth:** Sustained increase in user numbers and high community activity.

**Project Impact:** Successfully raise sufficient funds to support the Great Green Wall initiative.

**Ecosystem Prosperity:** Establish a healthy, sustainable blockchain ecosystem.

# Summary

This roadmap outlines how the Dropin project will gradually realize its vision of connecting users with global environmental efforts through blockchain technology, collectively contributing to the United Nations FAO's Great Green Wall initiative.

Please note:

The above roadmap serves as an example; specific implementation details will need to be adjusted based on actual project conditions.
Throughout project progression, ongoing user feedback should be gathered, and strategies should be modified in response to market changes.
It is recommended to partner with a professional blockchain development team to facilitate project implementation.

# team
**Lee** https://github.com/Dropineth/
10+ years of experience in TMT consumer and ESG investment research. Focused on sustainable killer applications in Web2 and Web3. Former member of CMRC's science and technology enterprise marketing and business growth research group.

**Junhua** https://github.com/XieJunhua/
Proficient in Solidity, Python, and Java. 2+ years developing Ethereum smart contracts. Experienced in blockchain technology, including Ethereum, Solana, and Sui. Strong background in data and backend development.

**XUANRUI** https://github.com/lvxuan149
Solana Bot丨Solana Dev丨
@Solana_zh Contributor丨Cooking #Blinks 丨Cooking @solfunmedia丨

**DR.YEECY** https://github.com/Dr-yellow
make blockchain great again!
web3 front engineer of best!


# Project Demo

## Deck
[Click here](https://docs.google.com/presentation/d/1EQe44HkeCRy0gmnBXn2PY2odMYfLssrhFr1e4a9n9Tk/edit?usp=sharing)

## Frontend Interaction Example

BLINK
[Click here](https://dial.to/?action=solana-action:https://dropin-plum.vercel.app/api/supply)

抽奖结果
[Click here](https://claude.site/artifacts/2d539d34-e005-41eb-bfc9-540b7ba56d43)


---


# V1.0

# Vara-Dropin DApp

A Decentralized Lottery Protocol Harnessing DeFi, GameFi, and Novel Blockchain Paradigms


## Main Track

### Innovative Dapps
This track focuses on innovative applications such as DeFi, GameFi, NFTs, DEXs, and other applications that drive mass adoption.

## Bounty 
### Vara Network Track
### Bifrost

# Project Overview
Dropin is an innovative blockchain DApp built on the Vara Network, designed to provide users with a new interactive experience and value creation platform through gamified lotteries, financial incentives, NFT assets, and decentralized trading. Leveraging smart contracts and blockchain technology, Dropin ensures fairness, transparency, and security in the lottery process.

## Core Features

Note: The core features represent the first two steps of the implemented roadmap.

### Core Feature 1: DeFi (Staking Rewards Lottery)

**Explanation:**
- Users can participate in lottery activities by staking VARA tokens. The staking process generates rewards based on DeFi principles.
- Staking rewards are converted into lottery tickets, allowing users to participate in the lottery without additional costs.
- The staked VARA tokens continue to generate rewards during the lock-up period, which can be used to cover lottery costs or reinvested.

### Core Feature 2: Gaming (Gamified Lottery)

**Explanation:**
- Users send an amount of VARA tokens equivalent to 0.1 ETH to the smart contract to participate in the lottery.
- Once the lottery pool reaches a predetermined amount (e.g., 1 ETH worth of VARA), the smart contract randomly selects a lucky user.
- The winning user receives VARA tokens equivalent to 0.9 ETH, while the DApp operator collects VARA tokens equivalent to 0.1 ETH as gas fees and operational costs.

### Core Feature 3: Telegram Sharing (Social Media Growth)

**Explanation:**
- Users can promote Dropin DApp by sharing information or activities via Telegram to increase social media growth and engagement.
- Sharing activities may include inviting new users, sharing lottery results, or participating in community discussions.
- As an incentive, sharers may receive additional lottery tickets or small VARA token rewards to encourage DApp promotion.
- Incentives will be distributed based on 10% of the gas fees collected in each lottery round, proportionally allocated to participating promotional addresses.

### Core Feature 4: GameFi (Gamified Finance)

**Explanation:**
- Even if users do not win the lottery, they still have a chance to earn rewards through the GameFi mechanism.
- Based on their on-chain interaction history, such as staking, sharing, and participation, users will receive airdrops of tokens from collaborating Web3 projects.
- Airdropped tokens may be VARA or other tokens circulating on the Vara Network, provided by projects partnering with Dropin.

## Roadmap

### Roadmap 1: Gaming (Gamified Lottery)

**Description:**
- Users participate in a blockchain-based fair lottery by sending 0.01 ETH to the smart contract to join the lottery pool. Once the pool reaches 1 ETH, the smart contract randomly selects a winning address from 100 participants. The winning address receives 0.9 ETH, and the DApp operator collects 0.1 ETH as gas fees and operational costs.

**Example:**
- At the MVP (Minimum Viable Product) launch, suppose 100 on-chain addresses participate, each contributing 0.01 ETH to form a total prize pool of 1 ETH. A single address is selected through the smart contract’s random selection mechanism to receive a 0.9 ETH reward.

### Roadmap 2: GameFi (Gamified Finance)

**Description:**
- Non-winning participants receive token airdrops from collaborating Web3 projects based on their on-chain interaction history. This mechanism rewards user participation and loyalty while providing potential new users and community members to partnering projects. Dropin earns operational income through service fees or tokens from the airdrop projects.

**Example:**
- Among the 100 addresses mentioned above, those not receiving the 0.9 ETH reward will receive token airdrops based on their on-chain activities. The airdrop ratio and amount are automatically calculated by the smart contract based on preset algorithms and user interaction data.

### Roadmap 3: NFTs (Non-Fungible Tokens)

**Description:**
- To reduce the negative impact of zero-sum games, NFTs are introduced as part of the rewards to increase the appeal of lottery activities. The ETH contributed by users is split into N fractional NFTs, each representing a certain value of ETH. The smart contract randomly selects one address out of 100, which receives an NFT worth 90u, while the operator's address collects 10u as gas and operational fees.

**Example:**
- Suppose a 1 ETH asset is split into 1,000 1u ETH fractional NFTs. Users participate in the lottery by contributing 1u, forming a 100u prize pool. The winner receives an NFT worth 90u, and the operator collects 10u.

### Roadmap 4: DEX (Decentralized Exchange)

**Description:**
- Users are allowed to freely trade NFTs on a decentralized exchange, realizing the market value of NFTs. NFTs can be exchanged 1:1 for ETH on the DEX, ensuring their liquidity and utility. Through the DEX, users can buy and sell NFTs, including those won in the lottery or purchased on the DEX.

**Example:**
- A user lists their NFT for sale on the DEX, priced based on the NFT’s current market value. Other users can purchase these NFTs, with transactions automatically executed through smart contracts, ensuring security and transparency.

## Project Advantages
- **Vara Network Integration:** Fully utilizes the high performance and security of Vara Network to provide a seamless user experience.
- **Innovative Lottery Mechanism:** Combines DeFi and GameFi elements to offer an attractive lottery model, enhancing user engagement.
- **NFT Asset Liquidity:** Enhances NFT liquidity through the DEX, allowing users to trade and invest in NFT assets.
- **Community-Driven:** Encourages community participation and governance, jointly driving project development.

# Conclusion
By combining the features of the Vara Network, Dropin DApp provides an innovative blockchain lottery platform that not only increases user interaction and engagement but also creates new value opportunities through the integration of DeFi and NFTs. As the project continues to develop and the community grows, Dropin is poised to become a shining star in the Vara Network ecosystem.

# Team Members

- **Hangbiao:** [GitHub](https://github.com/btwiuse)
- **Li Smith:** [GitHub](https://github.com/baidang201)
- **Harry:** [GitHub](https://github.com/imhappyboy)
- **Lee Zhang:** [GitHub](https://github.com/Dropineth/)

# Awards History
Dropin is a new project formed for the August 2024 ETH Hackathon and has not yet won any awards.

# Project Demo

## Deck
[Click here](https://docs.google.com/document/d/107-AjTQCHJsmBQsbN9ruQQQsj2UT1CbIbjCiFGmLUR0/edit?usp=sharing)

## Frontend Interaction Example
[Click here](https://claude.site/artifacts/15b360cf-5eab-412d-b855-30d2bcd39b4e)


## Telegram Sharing Example
[Click here](https://docs.google.com/document/d/1qE7gY0R5kyxBSBIOmm-YX12IrnN0uARLy0hjv1_aZBc/edit?usp=sharing)


