# V3.5 DROPINMANTLE

### **Dropin on Mantle: Decentralized Green Lottery + Eco-Incentive Platform**

#### **Product Overview**
Dropin can utilize Mantle's low transaction fees, high scalability, and modular architecture to develop an eco-focused, decentralized lottery and crowdfunding platform. The platform allows users to stake tokens and participate in gamified lotteries, while contributing to environmental initiatives like reforestation and sustainability projects. The integration with Mantle enables **low-cost transactions**, **cross-chain compatibility**, and **decentralized governance** to promote eco-friendly behaviors.

---

### **Core Features & Product Design**

#### **1. Green Fund Crowdfunding with DeFi Mechanics**
- **How it Works**: Users can stake tokens (e.g., **MNT**, **$Dropin tokens**) to fund green projects (e.g., reforestation, solar energy). Each contribution gives users lottery tickets and rewards them with eco-incentives (e.g., tree planting credits, carbon credits).
- **Mantle Integration**: Mantle’s **ultra-low transaction fees** and **scalability** allow users to interact with the platform without the concern of high gas costs, making it accessible to a global audience.
- **Incentives**: Beyond the contributions, users also receive **NFTs** or **DePIN rights**, tokenizing their involvement in green initiatives, which can later be traded or redeemed.

---

#### **2. Gamified Lottery for Eco-Impact**
- **How it Works**: After a predefined crowdfunding cycle, users can participate in a **lottery** based on their staked tokens. Prizes are eco-focused, such as **solar panel rights**, **tree planting credits**, or **carbon offset tokens**.
- **Mantle’s Role**: Mantle’s **Sequencer** ensures **fast transaction ordering** and its **EigenDA** for efficient data availability ensures transparency in lottery draws and distribution, helping Dropin manage large numbers of transactions while keeping costs low.
- **Cross-Chain Support**: Using Mantle's **cross-chain interoperability**, users from various ecosystems (e.g., **Ethereum**, **Polygon**, **Solana**) can participate, expanding Dropin’s user base and fostering a diverse community of eco-conscious investors.

---

#### **3. NFT Trading for Green Impact Representation**
- **How it Works**: Contributions and lottery rewards are represented as **NFTs**, which may include rights to carbon credits, solar equipment, or tree planting initiatives. These NFTs can be **traded** on Mantle’s decentralized exchange (DEX) for additional liquidity and engagement.
- **Mantle’s Advantage**: Mantle’s **high throughput** and **low-cost transactions** make it ideal for NFT-based rewards and trading, allowing users to easily buy, sell, or hold NFTs tied to environmental impact projects.
- **Community Incentives**: Users who hold NFTs representing green assets may receive additional rewards, such as **exclusive NFTs** or **token drops** linked to platform milestones or new project phases.

---

#### **4. DAO Governance for Community Decision-Making**
- **How it Works**: A **DAO** will be formed to allow token holders and contributors to vote on critical decisions like which green initiatives receive funding, which rewards to distribute, and how the platform evolves.
- **Mantle’s Role**: Dropin can integrate **Aragon DAO** tools within Mantle’s ecosystem to support **transparent governance**. This ensures decentralized, community-driven decision-making while benefiting from Mantle’s **low-cost** and **high-speed** infrastructure.
- **Incentives for Participation**: Active users or voters can be rewarded with **tokens**, **NFTs**, or **exclusive eco-incentives** for contributing to governance decisions or helping with community growth.

---

### **Technical Architecture & Integration**

- **Low-Cost Transactions**: With **Mantle’s modular architecture**, transactions for staking, rewards, and NFT trading can be processed at **ultra-low costs**, which helps to scale Dropin’s ecosystem globally. Users don’t need to worry about high transaction fees, making the platform more attractive for small contributions and global participation.
- **Modular Blockchain Design**: Dropin’s smart contracts can utilize **Mantle DA** for efficient data storage and off-chain processing. This reduces the load on main networks while keeping transaction costs low.
- **Cross-Chain Bridges**: By using **Mantle's cross-chain features**, Dropin can support users from other chains (e.g., **Ethereum**, **Solana**, **Polygon**), expanding its ecosystem and making it more accessible to participants from multiple blockchain ecosystems.
- **Developer Tools**: Leveraging **Mantle’s developer-friendly tools** like **Hardhat** and **Mantle SDK**, Dropin can streamline the deployment of smart contracts, enhance testing and auditing processes, and rapidly develop its MVP (Minimum Viable Product) for the Hackathon.

---

### **Roadmap for Hackathon Submission**

1. **MVP Development**:
   - **Crowdfunding Mechanism**: Users stake tokens to contribute to green projects, earning lottery tickets in return.
   - **Gamified Lottery**: Stakeholders enter lotteries based on contributions, with rewards such as NFTs or eco-assets.
   - **NFTs as Rewards**: Contributions and lottery wins are tokenized as NFTs, which users can trade or redeem.
   - **DAO Setup**: A simple DAO governance model to enable decentralized decision-making on funding allocation and future rewards.

2. **Integration with Mantle**:
   - Deploy the MVP on **Mantle’s testnet** using **Hardhat** for smart contract deployment and **Mantle Faucet** for token distribution.
   - Integrate **Mantle Sequencer** for transaction ordering and **EigenDA** for data availability, optimizing performance and scalability.
   - Enable **cross-chain participation** via **Mantle’s cross-chain compatibility** to allow users from Ethereum, Solana, and other blockchains to engage.

3. **Community Engagement**:
   - Create **incentive structures** where users can earn rewards by engaging with social media campaigns (e.g., sharing their involvement in Dropin via **Telegram**, **Twitter**).
   - Promote the hackathon participation and **sustainability mission** through active **community channels** and partnerships with eco-projects.

4. **Launch & Governance**:
   - Introduce DAO functionality where the community votes on future green projects or platform upgrades.
   - Reward active participants and voters with **tokens**, **NFTs**, and other incentives.

---

### **Conclusion**
Dropin, integrated with **Mantle’s ecosystem**, provides an efficient, scalable, and community-driven platform for eco-sustainability. By leveraging Mantle’s low transaction costs, high scalability, and cross-chain compatibility, Dropin can democratize participation in green initiatives while creating a gamified, reward-driven experience. The platform aligns perfectly with Mantle’s strengths, making it a strong candidate for the **Mantle Hackathon** and paving the way for a decentralized, green future.



---

# **Dropin: Decentralized Green Lottery + Eco-Incentive Platform**

**GitHub Repository for Dropin’s Mantle Hackathon Submission**

---

## **Overview**
Dropin is a decentralized green lottery and crowdfunding platform designed to fund sustainability projects, such as reforestation and renewable energy initiatives. By utilizing **Mantle’s modular architecture** and developer tools, Dropin leverages **DeFi**, **NFTs**, and **DAO governance** to create a scalable, low-cost platform focused on environmental sustainability.

This repository contains the implementation of Dropin's **MVP** (Minimum Viable Product) for the **Mantle Hackathon**, showcasing core features like **green project crowdfunding**, **gamified eco-lottery**, **NFT rewards**, and **DAO governance**.

---

## **Features**

### **1. Green Fund Crowdfunding**
- Users stake **MNT** or **$Dropin tokens** to fund environmental projects.
- Each contribution grants users **lottery tickets** that can be used for future eco-impact lotteries.
- Supports **cross-chain participation** via Mantle’s interoperability features.

### **2. Gamified Eco-Lottery**
- Stakers are eligible to win **eco-incentive rewards** like **carbon credits**, **tree planting credits**, and **solar panel rights**.
- Transparent lottery mechanics ensured by **Mantle's Sequencer** and **EigenDA** for efficient data availability.

### **3. NFT Rewards for Eco-Impact**
- Contributions and lottery winnings are represented as **NFTs** (e.g., rights to tree planting or carbon credits).
- NFTs can be **traded on Mantle’s NFT marketplaces**, increasing liquidity and engagement within the community.

### **4. DAO Governance for Community Decision-Making**
- Users participate in governance through staking and voting on **green project funding** and platform upgrades.
- Uses **Aragon DAO** tools on **Mantle** for transparent governance and decision-making.

---

## **Installation & Setup**

### **1. Clone the Repository**
```bash
git clone https://github.com/your-repo/dropin-mantle-hackathon.git
cd dropin-mantle-hackathon
```

### **2. Install Dependencies**
- Install **Node.js** (v16.x or higher)
- Install dependencies via **npm** or **yarn**:
```bash
npm install
# or
yarn install
```

### **3. Configure Environment Variables**
- Create a `.env` file in the root of the project and configure the following environment variables:
```plaintext
MANTLE_RPC_URL=https://rpc.mantlenetwork.io
MNT_TOKEN_ADDRESS=<Mantle MNT token contract address>
DROPIN_TOKEN_ADDRESS=<Dropin token contract address>
NFT_CONTRACT_ADDRESS=<NFT contract address>
DAO_CONTRACT_ADDRESS=<DAO contract address>
```

### **4. Deploy Contracts to Mantle Testnet**
- Use **Hardhat** to deploy the smart contracts to the Mantle testnet.
```bash
npx hardhat run scripts/deploy.js --network mantleTestnet
```

---

## **Smart Contracts**

### **1. GreenFund Contract**
- The **GreenFund** contract allows users to stake tokens and fund green projects. Each stake earns users **lottery tickets** proportional to the amount contributed.
- **Lottery mechanism** triggers after a set funding period ends, with winners selected randomly.
- **Token**: MNT or $Dropin token.

#### Example of Smart Contract:
```solidity
pragma solidity ^0.8.0;

contract GreenFund {
    mapping(address => uint256) public stakes;
    mapping(address => uint256) public lotteryTickets;
    
    function stake(uint256 amount) external {
        // Stake logic
    }

    function triggerLottery() external {
        // Lottery logic
    }
}
```

### **2. NFT Contract**
- The **NFT** contract issues **NFTs** that represent eco-impact contributions, like **carbon credits** and **tree planting**.
- Each NFT can be traded or redeemed for real-world eco-rewards.

#### Example of Smart Contract:
```solidity
pragma solidity ^0.8.0;
import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Enumerable.sol";

contract EcoNFT is ERC721Enumerable {
    uint256 public tokenIdCounter;

    function mint(address to) public {
        _safeMint(to, tokenIdCounter);
        tokenIdCounter++;
    }
}
```

### **3. DAO Contract**
- The **DAO** contract enables users to vote on the allocation of funds and the decision-making process for new green projects.
- Users can stake **$Dropin tokens** to participate in governance.

#### Example of DAO Contract:
```solidity
pragma solidity ^0.8.0;
import "@openzeppelin/contracts/token/ERC20/IERC20.sol";

contract EcoDAO {
    IERC20 public governanceToken;
    
    constructor(address _governanceToken) {
        governanceToken = IERC20(_governanceToken);
    }

    function vote(uint256 proposalId, bool support) external {
        // Voting logic
    }
}
```

---

## **Mantle-Specific Integration**

### **1. Transaction Cost Optimization**
- **Mantle Sequencer**: Ensures that transactions are processed efficiently and in the correct order with minimal latency.
- **EigenDA**: Provides efficient data availability for transactions and smart contracts, reducing the need for centralized data storage and lowering costs.

### **2. Cross-Chain Compatibility**
- Dropin leverages **Mantle’s cross-chain compatibility** to enable participation from users across different blockchain ecosystems (Ethereum, Solana, etc.).

---

## **Testing the Application**

### **1. Deploy to Mantle Testnet**
- Use **Hardhat** to deploy and test the smart contracts on the **Mantle testnet**:
```bash
npx hardhat run scripts/deploy.js --network mantleTestnet
```

### **2. Interact with the Green Fund Contract**
- Use **Hardhat Console** or **Ethers.js** to interact with the deployed **GreenFund** contract for staking and lottery participation.
```javascript
const greenFund = await ethers.getContractAt('GreenFund', greenFundAddress);
await greenFund.stake(1000); // Stake 1000 MNT
```

### **3. Participate in DAO Governance**
- Users can vote on **green project funding** and other platform decisions by interacting with the **EcoDAO contract**.

---

## **Roadmap for Hackathon Submission**

1. **MVP Deployment**: 
   - Deploy the smart contracts to the **Mantle testnet** and demonstrate the core functionalities: crowdfunding, lottery, NFTs, and DAO governance.
   
2. **Testing & Bug Fixes**: 
   - Test the system’s stability and ensure smooth integration with **Mantle’s infrastructure**.

3. **Documentation & Reporting**: 
   - Prepare detailed documentation (this repository) and submit the project to the **Mantle Hackathon** platform.

---

## **Contributing**

We welcome contributions from the open-source community! To contribute, please fork the repository, make your changes, and submit a **pull request**.

### **Steps to Contribute**
1. Fork the repository.
2. Clone your fork to your local machine.
3. Make your changes.
4. Submit a pull request with a clear description of your changes.

## **team**
### **Lee** 
https://github.com/Dropineth/ 10+ years of experience in TMT consumer and ESG investment research. Focused on sustainable killer applications in Web2 and Web3. Former member of CMRC's science and technology enterprise marketing and business growth research group.

### **Junhua**  
https://github.com/XieJunhua/ Proficient in Solidity, Python, and Java. 2+ years developing Ethereum smart contracts. Experienced in blockchain technology, including Ethereum, Solana, and Sui. Strong background in data and backend development.


---

## **Acknowledgments**
- **Mantle** for its low-cost, high-performance blockchain infrastructure.
- **OpenZeppelin** for their secure smart contract libraries.

---

This **GitHub repository** provides the full technical implementation and instructions for Dropin's participation in the Mantle Hackathon, demonstrating how Dropin integrates with Mantle's ecosystem to create a sustainable, decentralized green lottery platform.


# V3.0 DROPINTON
TON | Hackers League: Winter 2024


# Pitch video

[PITCH video](https://github.com/Dropineth/dropinton/blob/main/HK%20Bootcamp%20pitch%20template%20｜DROPIN.mp4)

# Demo link

[ton mini app ](https://t.me/dropin_lotto_bot?startapp=tg-2026552626)


---

# Dropin Project: Decentralized Lottery with Tree Planting Fund

## Overview

Dropin is a decentralized application (DApp) leveraging blockchain technology, designed to engage users in sustainable practices through gamified lotteries and environmental impact. Dropin allows users to participate in a lottery system, where funds are allocated to real-world reforestation initiatives, like the UN’s Great Green Wall and AFR100, through the sale of NFTs that represent various environmental assets.

### Key Features


1. **TON & Gate Wallet Integration**: 
   - Seamless wallet connectivity for deposits and withdrawals.
   - Cross-platform compatibility for broader user access.

2. **Decentralized Lottery**: 
   - 70% of the prize pool is awarded to a grand winner.
   - 20% is distributed as NFTs representing environmental assets like solar power stations and tree seeds.

3. **Tree Planting Fund**: 
   - Supports reforestation projects through the proceeds of NFTs.
   - Users also have a chance to receive $DOP tokens as random rewards from the fund.（building）

4. **Stable Arbitrage**: 
   - A TON-USDT swap mechanism maintains the stability of the Tree Planting Fund by converting TON into USDT during price surges.

5. **Referral Rewards**: 
   - Invite new users to participate in the lottery.
   - Top 3 referrers earn rewards: **5 TON**, **2 TON**, and **1 TON**, respectively.

6. **AdTON Advertising Module**: （building）
   - Airdrops from partner projects are randomly distributed into the lottery prize pool to incentivize participation and collaboration.

---

## Components

### 1. **User Wallet Integration**

- **TON Wallet**: Allows users to deposit and withdraw TON tokens to participate in the lottery.
- **Gate Wallet**: Integrated for broader ecosystem compatibility, enabling seamless interactions with Dropin's services.

### 2. **Lucky Draw Mechanism**

- **Prize Distribution**:
  - **70% of the prize pool** is allocated to a grand winner ("锦鲤"), who receives 70 TON.
  - **20% of the prize pool** is distributed to 99 participants as NFT rewards (Solar Power Station, Air Water Station, Drip Irrigation Network, Tree Seedlings, Grass Seeds).
  - **10% of the prize pool** is allocated to the Dropin team for operational costs, including 1% for each user that invites a new participant.

### 3. **Tree Planting Fund**

- **NFT Rewards**:
  - **Solar Power Station**
  - **Air Water Station**
  - **Drip Irrigation Network**
  - **Tree Seedlings (Native to Africa, high carbon sequestration)**
  - **Grass Seeds (Native to Africa, high carbon sequestration)**

- **Fund Management**:
  - Fund size and distribution will be tracked in both **TON** and **USDT**.
  - **TON to USDT Conversion**: When the price of TON peaks, a swap occurs, converting TON into USDT and storing it in the Tree Planting Fund, ensuring the fund’s value appreciates and maintains stability.

---

## How it Works

### Lottery Process

1. **User Participation**: Users connect their TON or GATE wallets and pay 1 TON to enter the lottery.
2. **Prize Pool Allocation**: 
   - 70% of the pool goes to the grand winner.
   - 20% is distributed as NFT rewards to 99 random participants.
   - 10% is kept for Dropin’s operations.
3. **NFT Distribution**: After the lottery draw, the NFTs representing environmental assets are randomly distributed.
4. **Tree Planting Progress**: A progress bar shows the current completion of the tree planting goal in hectares, indicating the overall progress of the Great Green Wall initiative.
5. **Referral Rewards**: 
   - Invite new users to participate in the lottery.
   - Top 3 referrers earn rewards: **5 TON**, **2 TON**, and **1 TON**, respectively.

### **Step-by-Step Process Breakdown**

#### 1. **User Participation:**
Users connect their **TON or Gate Wallet** and pay **1 TON** to enter the lottery.

- **TON Wallet Integration**: Users should connect their wallets to the app, which can be done using the TON SDK for mini apps.

```javascript
// Assuming we have TON SDK integrated in the mini app
const tonSdk = new TONSDK();  // TON SDK instance

// Function to connect the TON wallet
async function connectWallet() {
  try {
    const wallet = await tonSdk.wallet.connect();  // Connects the wallet
    console.log("Connected to wallet: ", wallet.address);
  } catch (error) {
    console.error("Error connecting wallet: ", error);
  }
}

// Example: User presses a button to connect their wallet
document.getElementById("connect-btn").addEventListener("click", connectWallet);
```

#### 2. **Prize Pool Allocation:**
70% of the prize pool goes to the **grand winner**, 20% is distributed as **NFT rewards** to 99 random participants, and 10% is kept for **Dropin's operations**.

```javascript
// Simulate the Prize Pool Allocation
const prizePool = 1000;  // Total pool amount in TON
const grandPrize = prizePool * 0.7;  // 70% to grand winner
const nftRewards = prizePool * 0.2;  // 20% to 99 participants
const operationalFund = prizePool * 0.1;  // 10% for Dropin operations

// Simulate winner and participant allocation
const grandWinner = "0x123abc";  // Example grand winner address
const nftParticipants = Array(99).fill().map(() => generateRandomAddress());  // Simulate 99 random participants

function generateRandomAddress() {
  return "0x" + Math.random().toString(16).slice(2, 18);
}

// Output the prize pool details
console.log("Grand Winner: ", grandWinner);
console.log("NFT Rewards: ", nftParticipants);
console.log("Operational Fund: ", operationalFund);
```

#### 3. **NFT Distribution:**
After the lottery draw, NFTs representing environmental assets are randomly distributed to 99 participants.

```javascript
// Simulating NFT distribution (e.g., tree seeds, solar panels, etc.)
function distributeNFTs() {
  const environmentalNFTs = ['Tree Seed NFT', 'Solar Power NFT', 'Water Station NFT', 'Drip Irrigation NFT'];
  const nftAllocations = nftParticipants.map(() => {
    const randomNFT = environmentalNFTs[Math.floor(Math.random() * environmentalNFTs.length)];
    return randomNFT;
  });

  console.log("NFT Distribution: ", nftAllocations);
}

// Call to distribute NFTs after the lottery draw
distributeNFTs();
```

#### 4. **Tree Planting Progress:**
A progress bar tracks the tree planting goal, showing hectares planted.

```javascript
// Simulating tree planting progress
let hectaresPlanted = 1000000;  // Total hectares planted globally
let currentProgress = 0.1;  // Progress percentage (10%)

// Update progress bar (for example, in a UI component)
function updateProgress() {
  const progressBar = document.getElementById("progress-bar");
  progressBar.style.width = `${currentProgress * 100}%`;  // Update progress bar
  console.log(`Current Progress: ${currentProgress * 100}%`);
}

// Call the progress update function periodically
setInterval(updateProgress, 1000);  // Update every 1 second for demo
```
### 5.Referral Rewards Distribution

```javascript
// Simulate top 3 referrers and reward distribution
const referrers = [
  { name: "User A", invites: 50 },
  { name: "User B", invites: 30 },
  { name: "User C", invites: 20 },
];

const rewards = [5, 2, 1]; // Rewards in TON for top 3

referrers.slice(0, 3).forEach((referrer, index) => {
  console.log(`${referrer.name} receives ${rewards[index]} TON for ${referrer.invites} invites`);
});
```

# Dropin Lucky Draw Mini App (TON Integration)

## Overview

The **Dropin Lucky Draw** is a TON-based decentralized application (DApp) designed to gamify reforestation efforts and engage the community through blockchain technology. This app enables users to participate in a lottery that funds tree-planting projects and rewards participants with NFTs tied to environmental assets.

## Features

- **TON Wallet Integration**: Connect with Gate or TON wallet to participate in the lottery.
- **Lottery Prize Pool Allocation**: 70% goes to the grand prize winner, 20% to 99 NFT recipients, and 10% for Dropin operations.
- **NFT Rewards**: Random distribution of NFTs, including solar power stations, air water stations, and carbon-sequestering tree seeds.
- **Tree Planting Progress**: A progress bar that tracks the overall planting goal of 1 billion hectares.
- **Referral Rewards**: 
   - Invite new users to participate in the lottery.
   - Top 3 referrers earn rewards: **5 TON**, **2 TON**, and **1 TON**, respectively.

## How It Works

### 1. **User Participation**:
- Connect your **TON or Gate wallet** and pay **1 TON** to enter the lottery.

### 2. **Prize Pool Allocation**:
- **70%** of the pool is awarded to the **grand winner**.
- **20%** is distributed as **NFT rewards** to 99 random participants.
- **10%** is kept for **Dropin's operational costs**.

### 3. **NFT Distribution**:
- After the lottery draw, **NFTs representing environmental assets** are **randomly distributed** to 99 participants.

### 4. **Tree Planting Progress**:
- A **progress bar** shows the current completion of the tree planting goal, measured in hectares.

### 5.**Referral Rewards**: 
   - Invite new users to participate in the lottery.
   - Top 3 referrers earn rewards: **5 TON**, **2 TON**, and **1 TON**, respectively.

---

## Code Example

### **Sample Code Snippet for Prize Pool Allocation (JavaScript)**

```javascript
// Simulate the Prize Pool allocation
const prizePool = 1000; // Total pool amount in TON
const grandPrize = prizePool * 0.7; // 70% goes to grand winner
const nftRewards = prizePool * 0.2; // 20% distributed to 99 random participants
const operationalFund = prizePool * 0.1; // 10% for Dropin operations

// Winner distribution
const grandWinner = "0x123abc"; // Example wallet address
const nftParticipants = Array(99).fill().map(() => generateRandomAddress()); // Simulate 99 random participants

console.log("Grand Winner: ", grandWinner);
console.log("NFT Rewards for 99 Participants: ", nftParticipants);
console.log("Operational Fund: ", operationalFund);

// Helper function to generate random addresses for participants (simulation)
function generateRandomAddress() {
  return "0x" + Math.random().toString(16).slice(2, 18);
}

// Simulating the result display
function displayResults() {
  alert(`Grand Prize: ${grandPrize} TON awarded to: ${grandWinner}`);
  alert(`NFT rewards (Total: ${nftRewards} TON) distributed to 99 participants`);
  alert(`Dropin Operational Fund: ${operationalFund} TON`);
}

// Call the display function to show results
displayResults();
```
---

## **Stable Arbitrage Mechanism**

The **Stable Arbitrage Mechanism** ensures the Tree Planting Fund’s value remains stable by monitoring the TON price and triggering automatic swaps to USDT when TON’s price reaches a peak. This ensures that the fund is protected from market volatility and continues to grow consistently, supporting reforestation projects without the risk of devaluation.

### **How it Works:**

1. **TON Price Monitoring**: The system constantly monitors the TON market price.
2. **Swap Trigger**: Once TON’s price exceeds a predefined threshold, the system automatically swaps TON for USDT at a 1:1 ratio.
3. **Fund Growth**: The swapped USDT is added to the Tree Planting Fund, ensuring the fund grows and remains stable.### Stable Arbitrage Mechanism

### **TON-USDT Swap:**

The **Stable Arbitrage Mechanism** aims to protect the Tree Planting Fund from the volatility of the TON token. When the value of TON spikes, the system automatically triggers a swap to USDT at a 1:1 ratio. This helps maintain the fund’s stability and protects it from the potential devaluation caused by market fluctuations in TON’s value.

To implement this, the following steps are followed:

1. **Identify Optimal TON Price Point**: The mechanism constantly monitors the price of TON in the market. Once the price exceeds a predefined threshold, the system triggers the swap to USDT.

2. **Perform the Swap Using DeDust**: The swap is carried out via the **DeDust Protocol** using the Vault and Pool mechanisms. The Vault will receive the TON tokens and the Pool will handle the conversion to USDT.

3. **Track Fund Balance and Growth**: After the swap, the USDT is held in the Tree Planting Fund, ensuring its value is stable and continually growing. The fund’s growth is tracked via **LP tokens** and liquidity pool management.

---

### **Code Implementation for TON-USDT Swap (DeDust Protocol)**

Below is the implementation code using the **DeDust SDK** for the TON-USDT swap and the tracking of the Tree Planting Fund balance.

#### **1. Finding the Vault and Pool for TON-USDT Swap**

The following code demonstrates how to use **DeDust** to interact with the Vault and perform the swap once the price of TON reaches a peak:

```typescript
import { Asset, PoolType, Factory, VaultNative } from '@dedust/sdk';
import { Address, TonClient4 } from '@ton/ton';
import { toNano } from '@ton/core';

// Initialize TON client and Factory contract
const tonClient = new TonClient4({ endpoint: "https://mainnet-v4.tonhubapi.com" });
const factory = tonClient.open(Factory.createFromAddress(MAINNET_FACTORY_ADDR));

// Define TON and USDT as assets
const TON = Asset.native();
const USDT = Asset.jetton(Address.parse('YOUR_USDT_JETTON_ADDRESS'));

// Fetch Vault (TON) and Pool (TON, USDT)
const tonVault = tonClient.open(await factory.getNativeVault());
const pool = tonClient.open(await factory.getPool(PoolType.VOLATILE, [TON, USDT]));

// Ensure that the Vault and Pool are deployed
if ((await pool.getReadinessStatus()) !== ReadinessStatus.READY) {
  throw new Error('Pool (TON, USDT) does not exist.');
}

if ((await tonVault.getReadinessStatus()) !== ReadinessStatus.READY) {
  throw new Error('Vault (TON) does not exist.');
}
```

#### **2. Monitoring the TON Price and Triggering the Swap**

This section is responsible for monitoring TON’s price and executing the swap when it reaches a threshold:

```typescript
// Assume we have a function `getTONPrice()` that fetches the current TON price.
async function monitorAndSwap() {
  const tonPrice = await getTONPrice(); // Fetch TON price from an oracle or price feed.
  const swapThreshold = 1.5; // Define the TON price threshold for triggering the swap.

  if (tonPrice >= swapThreshold) {
    const amountIn = toNano('100'); // Example: Swap 100 TON to USDT.

    // Send the swap request to the Vault (TON)
    await tonVault.sendSwap(sender, {
      poolAddress: pool.address,
      amount: amountIn,
      gasAmount: toNano("0.25"),
    });

    console.log("TON to USDT swap completed successfully.");
  } else {
    console.log("TON price not high enough to trigger the swap.");
  }
}
```

#### **3. Tracking Fund Growth:**

The Tree Planting Fund balance in USDT is tracked using **Liquidity Pool** (LP) tokens issued to the fund address after each successful swap. The following code demonstrates how you can track this balance:

```typescript
const lpWallet = tonClient.open(await pool.getWallet(fundAddress)); // Fund’s wallet to track LP token balance
const fundBalance = await lpWallet.getBalance();

console.log(`Tree Planting Fund Balance in LP Tokens: ${fundBalance}`);
```

#### **Tracking the Swap Operation**

For each TON-to-USDT swap, you will need to log the transaction details to monitor fund growth and ensure proper execution. This can be done using the following code:

```typescript
// Log the swap transaction for audit and tracking
async function logSwapTransaction(senderAddress: string, amountIn: bigint) {
  const transactionId = await logTransaction(senderAddress, amountIn); // Implement logging function
  console.log(`Transaction recorded. ID: ${transactionId}`);
}
```

This log function can send transaction details to an off-chain service (e.g., database or analytics platform) for tracking fund flow and stability.

---


## Technical Overview

### **Smart Contracts**

The following smart contracts are responsible for the lottery process, NFT distribution, and the TON-USDT conversion mechanism.

```solidity
// Example of smart contract for swap logic
contract StableArbitrage {
    address public admin;
    uint public tonBalance;
    uint public usdtBalance;
    
    constructor() {
        admin = msg.sender;
    }
    
    function swapTONForUSDT(uint amount) public {
        require(msg.sender == admin, "Only admin can swap");
        require(amount <= tonBalance, "Insufficient TON balance");
        
        uint usdtAmount = amount * getTONToUSDTPrice();
        usdtBalance += usdtAmount;
        tonBalance -= amount;
        
        // Transfer USDT to Tree Fund
        transferToTreeFund(usdtAmount);
    }

    function getTONToUSDTPrice() private view returns (uint) {
        // Implement price fetch from oracle
        return 1; // Simplified for illustration
    }
    
    function transferToTreeFund(uint amount) private {
        // Logic to transfer funds to the tree planting fund
    }
}
```
---

## DeDust Protocol Integration (Future DeFi Expansion)

### 1. **DeFi Yield Maximizers**

Using the **DeDust Protocol**, users can deposit their TON or USDT in yield farming contracts to maximize their returns. Users can participate in liquidity pools and receive rewards in $TON or other tokens, helping increase the sustainability of the Tree Planting Fund.

### 2. **DeDust Swap Implementation**

Users can swap between TON and USDT directly on the DeDust protocol, utilizing automated market makers (AMMs) for efficient and low-cost trading.

### 3. **User-Facing DeFi Apps**

Create easy-to-use interfaces for users to interact with yield farming, staking, and swap features, helping grow the Dropin ecosystem and maximize environmental funding.

---

## Installation（building）

To run the project locally:

1. Clone the repository:
   ```bash
   git clone https://github.com/Dropineth/dropinton/DropinProject/Dropin.git
   cd Dropin
   ```

2. Install dependencies (for smart contracts, etc.):
   ```bash
   npm install
   ```

3. Start the frontend (React or any other framework you're using):
   ```bash
   npm start
   ```

---

## Contributing

We welcome contributions! Please feel free to open an issue or submit a pull request. Make sure to follow the contribution guidelines and maintain consistency with the project's goals of sustainability and decentralization.

---

## Contact
For support or inquiries, contact us at dropineth@gmail.com

---

### TEAM

## Y.C.  Co-FOUNDER
A seasoned blockchain and full-stack development expert with over a decade of experience at top-tier companies like HashKey Cloud, Binance, and MyTV Super, leading innovative Web3 solutions, enhancing security architectures, driving DeFi product development, and optimizing system operations across diverse industries.

## CAT BOSS Co-FOUNDER 
With over 15 years of experience in internet technology, including roles at renowned companies such as McCann Worldgroup, Hopen, and ISAILSOFT, I bring expertise in global project collaboration, B2B2C technical solutions, and Web3 product development. 

## YU Co_FOUNDER
Host of Shenzhen HackathonWeekly, Initiator of AI Co-learning Sessions on Tuesday and Thursday evenings.  
Five years of experience as a UX designer in top-tier tech companies. , specializing in consumer-facing content monetization products (serving both domestic and international markets) and high-engagement tools (with tens of millions of daily active users). Proficient in B2B AI backend design, with extensive expertise in end-to-end design and user experience optimization.

## LEE FOUNDER
10+ years of experience in TMT \Consumer\ ESG investment research. Focused on sustainable killer applications in Web2 and Web3. Former member of CMRC's science and technology enterprise marketing and business growth research group.


---
 
# V2.0 Solana Dropin DApp gamefi

A decentralized lottery platform employing DePIN to tokenize real-world assets related to reforestation, allowing participants to directly contribute to the UN FAO's Great Green Wall initiative while earning rewards.


# Project Overview
Dropin is an innovative blockchain DApp built on the Vara Network and Solana, designed to provide users with a new interactive experience and value creation platform through gamified lotteries, financial incentives, NFT assets, and decentralized trading. Leveraging smart contracts and blockchain technology, Dropin ensures fairness, transparency, and security in the DroPin lottery process.

## Core Features

Note: The core features represent the first four steps of the implemented roadmap.

### Core Feature 1: User Registration and Authentication
**Explanation:**
Users can register via email or social accounts, complete KYC verification, or link their wallet address for identity validation.

###  Feature 2: Equipment Crowdfunding
**Explanation:**
Users can participate in crowdfunding as a group to purchase solar panels, drip irrigation pipes, and other equipment to achieve sustainable development goals.

###  Feature 3: Lucky Draw
**Explanation:**
At the end of each crowdfunding cycle, the system randomly selects lucky users to gain corresponding DePIN rights, including future benefits from power, water, and pipeline supply. Non-winning users will receive tree planting rights and can benefit from future carbon credits. If a winning user opts out of DePIN rights, they can choose to participate in the GameFi lottery to receive tokens.

###  Feature 4: Blink Sharing on Twitter
**Explanation:**
Users can share activities via Blink to Twitter, and through sharing interactions, they can earn rewards, such as optional tree planting rights.

###  Feature 5: NFT Trading: Roadmap
**Explanation:**
Users can trade NFTs on decentralized exchanges, enabling asset circulation.

###  Feature 6: Exploring DAO Governance Model: Roadmap
**Explanation:**
Establish a decentralized autonomous organization to allow community members to participate in project decision-making.



#  Roadmap
## Overview
This roadmap aims to establish Dropin as a decentralized application that supports the Great Green Wall initiative in a gamified manner, leveraging blockchain technology to achieve transparent and equitable resource distribution while stimulating community engagement.
This roadmap emphasizes technical stability, user growth, and global scaling while advancing the UN’s Green Wall initiative.


###  Q1: Core Infrastructure Development

**Smart Contracts & Platform Architecture:** Complete the development of smart contracts on Vara and Solana for the DePIN project, including crowdfunding and reward distribution mechanisms.

**MVP Testing:** Launch an MVP for internal testing, refining key features like user registration, lottery mechanics, and on-chain payment interactions.

**Team Expansion & Partnerships:** Finalize key members of the tech, operations, and marketing teams, while building partnerships with blockchain projects and environmental organizations (e.g., FAO).

###  Q2: Community Expansion & Early User Acquisition

**Community Building:** Use airdrops and GameFi incentives to attract early adopters and turn them into long-term users and ambassadors.

**NFT & Token Launch:** Introduce DePIN-backed NFTs and conduct an initial token offering (IDO) for fundraising.

**Cross-Chain Exploration:** Explore multi-chain support, enabling users to participate via other compatible chains like Polygon or Avalanche.

###  Q3: Ecosystem Growth & Global Outreach

**Global Marketing:** Focus on international promotion in regions supporting the Green Wall initiative (Africa and the Middle East) in collaboration with NGOs and green projects.

**Project Expansion:** Add more DePIN projects like solar plants and water management, allowing users to diversify their green investments.

**Multi-Language Support:** Localize the platform with multi-language support to attract a global user base.

###  Q4: Innovation & Long-Term Development

**DAO Governance & Community Voting:** Implement a governance model that empowers users to vote on platform decisions, ensuring transparency and community ownership.

**New Environmental Incentives:** Introduce carbon offset trading and reward systems tied to carbon credits for long-term user incentives.

**Future Funding:** Prepare for a Series A funding round to support platform expansion and global growth.


# Key Metrics

**User Growth:** Monthly new user count, active user count

**Transaction Volume:** NFT transaction volume, DePIN transaction volume

**Community Engagement:** Community member count, activity level, participation rate

**Great Green Wall Progress:** Funds raised, equipment deployed

# Risk Assessment and Mitigation

**Technical Risks**
Utilize mature blockchain technologies, strengthen code audits, and conduct regular security assessments.

**Market Risks**
Monitor market conditions and adjust marketing strategies accordingly.

**Regulatory Risks**
Stay informed about relevant regulations to ensure compliant operations.

# Success Criteria

**User Growth:** Sustained increase in user numbers and high community activity.

**Project Impact:** Successfully raise sufficient funds to support the Great Green Wall initiative.

**Ecosystem Prosperity:** Establish a healthy, sustainable blockchain ecosystem.

# Summary

This roadmap outlines how the Dropin project will gradually realize its vision of connecting users with global environmental efforts through blockchain technology, collectively contributing to the United Nations FAO's Great Green Wall initiative.

Please note:

The above roadmap serves as an example; specific implementation details will need to be adjusted based on actual project conditions.
Throughout project progression, ongoing user feedback should be gathered, and strategies should be modified in response to market changes.
It is recommended to partner with a professional blockchain development team to facilitate project implementation.

# team
**Lee** https://github.com/Dropineth/
10+ years of experience in TMT consumer and ESG investment research. Focused on sustainable killer applications in Web2 and Web3. Former member of CMRC's science and technology enterprise marketing and business growth research group.

**Junhua** https://github.com/XieJunhua/
Proficient in Solidity, Python, and Java. 2+ years developing Ethereum smart contracts. Experienced in blockchain technology, including Ethereum, Solana, and Sui. Strong background in data and backend development.

**XUANRUI** https://github.com/lvxuan149
Solana Bot丨Solana Dev丨
@Solana_zh Contributor丨Cooking #Blinks 丨Cooking @solfunmedia丨

**DR.YEECY** https://github.com/Dr-yellow
make blockchain great again!
web3 front engineer of best!


# Project Demo

## Deck
[Click here](https://docs.google.com/presentation/d/1EQe44HkeCRy0gmnBXn2PY2odMYfLssrhFr1e4a9n9Tk/edit?usp=sharing)

## Frontend Interaction Example

BLINK
[Click here](https://dial.to/?action=solana-action:https://dropin-plum.vercel.app/api/supply)

抽奖结果
[Click here](https://claude.site/artifacts/2d539d34-e005-41eb-bfc9-540b7ba56d43)


---


# V1.0

# Vara-Dropin DApp

A Decentralized Lottery Protocol Harnessing DeFi, GameFi, and Novel Blockchain Paradigms


## Main Track

### Innovative Dapps
This track focuses on innovative applications such as DeFi, GameFi, NFTs, DEXs, and other applications that drive mass adoption.

## Bounty 
### Vara Network Track
### Bifrost

# Project Overview
Dropin is an innovative blockchain DApp built on the Vara Network, designed to provide users with a new interactive experience and value creation platform through gamified lotteries, financial incentives, NFT assets, and decentralized trading. Leveraging smart contracts and blockchain technology, Dropin ensures fairness, transparency, and security in the lottery process.

## Core Features

Note: The core features represent the first two steps of the implemented roadmap.

### Core Feature 1: DeFi (Staking Rewards Lottery)

**Explanation:**
- Users can participate in lottery activities by staking VARA tokens. The staking process generates rewards based on DeFi principles.
- Staking rewards are converted into lottery tickets, allowing users to participate in the lottery without additional costs.
- The staked VARA tokens continue to generate rewards during the lock-up period, which can be used to cover lottery costs or reinvested.

### Core Feature 2: Gaming (Gamified Lottery)

**Explanation:**
- Users send an amount of VARA tokens equivalent to 0.1 ETH to the smart contract to participate in the lottery.
- Once the lottery pool reaches a predetermined amount (e.g., 1 ETH worth of VARA), the smart contract randomly selects a lucky user.
- The winning user receives VARA tokens equivalent to 0.9 ETH, while the DApp operator collects VARA tokens equivalent to 0.1 ETH as gas fees and operational costs.

### Core Feature 3: Telegram Sharing (Social Media Growth)

**Explanation:**
- Users can promote Dropin DApp by sharing information or activities via Telegram to increase social media growth and engagement.
- Sharing activities may include inviting new users, sharing lottery results, or participating in community discussions.
- As an incentive, sharers may receive additional lottery tickets or small VARA token rewards to encourage DApp promotion.
- Incentives will be distributed based on 10% of the gas fees collected in each lottery round, proportionally allocated to participating promotional addresses.

### Core Feature 4: GameFi (Gamified Finance)

**Explanation:**
- Even if users do not win the lottery, they still have a chance to earn rewards through the GameFi mechanism.
- Based on their on-chain interaction history, such as staking, sharing, and participation, users will receive airdrops of tokens from collaborating Web3 projects.
- Airdropped tokens may be VARA or other tokens circulating on the Vara Network, provided by projects partnering with Dropin.

## Roadmap

### Roadmap 1: Gaming (Gamified Lottery)

**Description:**
- Users participate in a blockchain-based fair lottery by sending 0.01 ETH to the smart contract to join the lottery pool. Once the pool reaches 1 ETH, the smart contract randomly selects a winning address from 100 participants. The winning address receives 0.9 ETH, and the DApp operator collects 0.1 ETH as gas fees and operational costs.

**Example:**
- At the MVP (Minimum Viable Product) launch, suppose 100 on-chain addresses participate, each contributing 0.01 ETH to form a total prize pool of 1 ETH. A single address is selected through the smart contract’s random selection mechanism to receive a 0.9 ETH reward.

### Roadmap 2: GameFi (Gamified Finance)

**Description:**
- Non-winning participants receive token airdrops from collaborating Web3 projects based on their on-chain interaction history. This mechanism rewards user participation and loyalty while providing potential new users and community members to partnering projects. Dropin earns operational income through service fees or tokens from the airdrop projects.

**Example:**
- Among the 100 addresses mentioned above, those not receiving the 0.9 ETH reward will receive token airdrops based on their on-chain activities. The airdrop ratio and amount are automatically calculated by the smart contract based on preset algorithms and user interaction data.

### Roadmap 3: NFTs (Non-Fungible Tokens)

**Description:**
- To reduce the negative impact of zero-sum games, NFTs are introduced as part of the rewards to increase the appeal of lottery activities. The ETH contributed by users is split into N fractional NFTs, each representing a certain value of ETH. The smart contract randomly selects one address out of 100, which receives an NFT worth 90u, while the operator's address collects 10u as gas and operational fees.

**Example:**
- Suppose a 1 ETH asset is split into 1,000 1u ETH fractional NFTs. Users participate in the lottery by contributing 1u, forming a 100u prize pool. The winner receives an NFT worth 90u, and the operator collects 10u.

### Roadmap 4: DEX (Decentralized Exchange)

**Description:**
- Users are allowed to freely trade NFTs on a decentralized exchange, realizing the market value of NFTs. NFTs can be exchanged 1:1 for ETH on the DEX, ensuring their liquidity and utility. Through the DEX, users can buy and sell NFTs, including those won in the lottery or purchased on the DEX.

**Example:**
- A user lists their NFT for sale on the DEX, priced based on the NFT’s current market value. Other users can purchase these NFTs, with transactions automatically executed through smart contracts, ensuring security and transparency.

## Project Advantages
- **Vara Network Integration:** Fully utilizes the high performance and security of Vara Network to provide a seamless user experience.
- **Innovative Lottery Mechanism:** Combines DeFi and GameFi elements to offer an attractive lottery model, enhancing user engagement.
- **NFT Asset Liquidity:** Enhances NFT liquidity through the DEX, allowing users to trade and invest in NFT assets.
- **Community-Driven:** Encourages community participation and governance, jointly driving project development.

# Conclusion
By combining the features of the Vara Network, Dropin DApp provides an innovative blockchain lottery platform that not only increases user interaction and engagement but also creates new value opportunities through the integration of DeFi and NFTs. As the project continues to develop and the community grows, Dropin is poised to become a shining star in the Vara Network ecosystem.

# Team Members

- **Hangbiao:** [GitHub](https://github.com/btwiuse)
- **Li Smith:** [GitHub](https://github.com/baidang201)
- **Harry:** [GitHub](https://github.com/imhappyboy)
- **Lee Zhang:** [GitHub](https://github.com/Dropineth/)

# Awards History
Dropin is a new project formed for the August 2024 ETH Hackathon and has not yet won any awards.

# Project Demo

## Deck
[Click here](https://docs.google.com/document/d/107-AjTQCHJsmBQsbN9ruQQQsj2UT1CbIbjCiFGmLUR0/edit?usp=sharing)

## Frontend Interaction Example
[Click here](https://claude.site/artifacts/15b360cf-5eab-412d-b855-30d2bcd39b4e)


## Telegram Sharing Example
[Click here](https://docs.google.com/document/d/1qE7gY0R5kyxBSBIOmm-YX12IrnN0uARLy0hjv1_aZBc/edit?usp=sharing)


